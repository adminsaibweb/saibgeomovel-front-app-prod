import{V as u,R as l,U as I,ac as $,S as n}from"./index-YngUMXNg.js";import{A as y}from"./apiEndpoints-aSQtSIWE.js";import{h as T}from"./handleApiError-B5XCkBcY.js";import{f as E}from"./format-BBYAYFtJ.js";async function _(e){try{const a=u();if(a){const s=a.empresaId,t=a.codigoUsuario,r=await l.get(`${y.TRADE.ADMIN.FIND_PRODUCT}/${s}/${t}`,{params:{chave_pesquisa:e.charAt(0).toUpperCase()+e.slice(1)}}),{data:o,sucess:i}=r.data;if(i)return o}}catch{return n("Não foi possível buscar os dados, verifique sua conexão com a internet"),null}}async function M(e){try{const a=u();if(a){const s=a.empresaId,t=a.codigoUsuario,r=await l.get(`${y.TRADE.ADMIN.INVENTORY}/${s}/${t}`,{params:{cliente_id:e}}),{data:o,sucess:i}=r.data;if(i){const c=await I();return c.CONFERENCE||(c.CONFERENCE={}),c.CONFERENCE.INVENTORY=o,await $(c),o}}}catch(a){return T(a,null)}}async function P(e,a,s,t,r,o,i,c,A){try{const d=u();if(d){const p=d.empresaId,f=d.codigoUsuario,m={ATD_TIPO_FRETE:e,ATD_OPER_ID:a,ATD_DATA:E(new Date,"yyyy-MM-dd"),ATD_CLI_ID:s,ATD_ESTR_ID:t,ATD_VALOR_TOTAL:r,ATD_OBS:o,ATD_QTDE_TOTAL:i,ITEMS:c,ATD_EMP_ID:Number(p),PAGAMENTOS:A||[]},v=await l.post(`v1/trade/admin/sales/${p}/${f}`,m),{data:N,sucess:D}=v.data;return D?N:!1}else n("Não foi possível criar o pedido")}catch{return n("Não foi possível criar o pedido"),!1}}async function U(e,a,s,t,r,o,i,c,A,d,p){try{const f=u();if(f){const m=f.codigoUsuario,v={ATD_TIPO_FRETE:e,ATD_OPER_ID:a,ATD_ID:t,ATD_DATA:E(new Date,"yyyy-MM-dd"),ATD_CLI_ID:r,ATD_ESTR_ID:o,ATD_VALOR_TOTAL:i,ATD_QTDE_TOTAL:A,ATD_OBS:c,ITEMS:d,PAGAMENTOS:p},N=await l.post(`v1/trade/admin/sales/${s}/${m}`,v),{data:D,sucess:h}=N.data;return h?(n("Pedido alterado com sucesso!",1),D):!1}}catch{return n("Não foi possível editar o pedido",2),!1}}async function C(e,a=!0){try{const s=u();if(s){const t=s.empresaId,r=s.codigoUsuario,o=await l.delete(`${y.TRADE.ADMIN.SALES}/${t}/${r}/${e}`),{sucess:i}=o.data;return i?(a&&n("Pedido deletado com sucesso!",1),!0):(n("Não foi possível deletar o pedido ou ele já foi deletado",2),!1)}}catch{return n("Não foi possível deletar o pedido",2),!1}}async function O(e){try{if(!e)return;const a=u();if(a){const s=a.empresaId,t=a.codigoUsuario,r=await l.get(`v1/trade/admin/sales/${s}/${t}`,{params:{atd_id:e,atd_flag_situacao:"P"}}),{data:o,sucess:i}=r.data;if(i)return o}}catch{return n("Não foi possível buscar os dados, verifique sua conexão com a internet"),null}}export{_ as a,O as b,C as c,P as d,U as e,M as h};
