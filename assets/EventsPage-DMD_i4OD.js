import{I as b,ap as p,N as e,aa as u}from"./index-DyoTrttr.js";import{t as d,s as i}from"./startOfDay-Be0wd0F5.js";import{p as x}from"./parseISO-NgKaLFXC.js";const N=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],g=b("file-text",N);function j(o,r,n){const l=+d(o,n?.in),[c,s]=[+d(r.start,n?.in),+d(r.end,n?.in)].sort((t,a)=>t-a);return l>=c&&l<=s}function E(){const r=p().state;function n(s){return{1:"1 - Administrador",2:"2 - Leitura",3:"3 - Ambos"}[s]}function l(s,t){const a=i(x(s)),m=i(x(t)),h=i(new Date);return j(h,{start:a,end:m})}const c=s=>Array.from({length:s}).map((t,a)=>e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"},a));return e.jsxs(e.Fragment,{children:[e.jsx(u,{title:"Eventos",showBackButton:!0,backPath:"/pesquisas-service"}),!r&&e.jsx("h1",{children:"Nenhum evento encontrado"}),e.jsx("div",{className:"p-2 pt-4 gap-2 w-full background-pages",children:r.map(s=>{const t=l(s.GEV_DTA_INICIO,s.GEV_DTA_FIM),a=s.GEV_NIVEL_ALERTA||0;return e.jsxs("div",{className:"bg-white rounded-lg flex-1 border border-zinc-300 p-4 shadow-sm shadow-zinc-300 transition-shadow",children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[t?e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-green-50 border border-green-200",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),e.jsx("span",{className:"text-base font-medium text-green-700",children:"Vigente"})]}):e.jsx("div",{className:"px-3 py-1 rounded-full bg-gray-100 border border-gray-200",children:e.jsx("span",{className:"text-base font-medium text-gray-600",children:"Inativo"})}),a>0&&e.jsx("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-red-50 border border-red-200",children:e.jsxs("span",{className:"text-base font-medium text-red-700",children:["Nível alerta: ",a]})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-base text-gray-500 mb-1",children:"Usuário"}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:s.USR_NOME})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-base text-gray-500 mb-1",children:"Tipo de Evento"}),e.jsx("p",{className:"text-base text-gray-700",children:s.GEV_TIPO})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-base text-gray-500 mb-1",children:"Nível de Alerta"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-base font-semibold text-gray-900",children:a}),e.jsx("div",{className:"flex gap-0.5 ml-1",children:c(a)})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-base text-gray-500 mb-1",children:"Nível de Acesso"}),e.jsx("p",{className:"text-base text-gray-700",children:n(s.GEV_ACESSO)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-base text-gray-500 mb-1",children:"Documento"}),e.jsxs("a",{href:s.GEV_DOCUMENTO,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-base text-blue-600 hover:text-blue-700 hover:underline",children:[e.jsx(g,{className:"w-4 h-4"}),"Ver documento"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base text-gray-500 mb-1",children:"Descrição"}),e.jsx("p",{className:"text-base text-gray-700",children:s.GEV_DESCRICAO||"-"})]})]})})})]})}export{E as default};
