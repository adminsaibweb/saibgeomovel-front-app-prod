import{L as d,K as x,N as e,aa as m,O as f,a1 as h,S as u}from"./index-CYXlB6di.js";import{u as j}from"./index.esm-g7wEG1vX.js";import{C as p,b as g,c as b,a as N}from"./card-CyEq7GHL.js";import{F as A,a as O,b as C,c as y,d as E,e as I}from"./form-tFIv0F5k.js";import{I as D}from"./input-B9CoZ-jW.js";import{b as S}from"./timesAndDates-BA0J74pm.js";import{a as T}from"./order-Dck3wIJv.js";import{S as F}from"./search-DRPdXevm.js";import{P as L}from"./package-CPoqMIl5.js";import"./label-DZv4CB4a.js";import"./format-BBYAYFtJ.js";import"./startOfDay-Be0wd0F5.js";import"./addDays-CyOWDzeI.js";import"./pt-BR-mIVN-mbg.js";import"./apiEndpoints-aSQtSIWE.js";import"./handleApiError-Mr_6qIMG.js";function V(){const[t,n]=d.useState([]),r=j(),{handleSubmit:l}=r,{showLoading:o,hideLoading:i}=x();async function c({search:s}){o();const a=await T(s);a?n(a):u("Não foi possível buscar os dados, verifique sua conexão com a internet"),i()}return e.jsxs(e.Fragment,{children:[e.jsx(m,{title:"Encontrar produto",backPath:"/Admin",showBackButton:!0}),e.jsxs("div",{className:"flex w-full flex-col gap-4 p-4 lg:pt-18",children:[e.jsx(A,{...r,children:e.jsxs("form",{className:"flex w-full flex-col gap-4",onSubmit:l(c),children:[e.jsx(O,{control:r.control,name:"search",rules:{required:"Campo obrigatório"},render:({field:s})=>e.jsxs(C,{children:[e.jsx(y,{children:"Buscar produto"}),e.jsx(E,{children:e.jsx(D,{...s,placeholder:"Digite o nome ou código"})}),e.jsx(I,{})]})}),e.jsxs(f,{type:"submit",className:"w-full gap-2",children:[e.jsx(F,{size:20}),"Buscar"]})]})}),e.jsx("div",{className:"flex flex-col gap-4",children:t.map(s=>e.jsxs(p,{className:"border-primary/50 shadow-md p-0 gap-0",children:[e.jsx(g,{className:"bg-primary px-3 py-2 flex items-center justify-start rounded-t-lg",children:e.jsxs(b,{className:"flex items-center justify-start text-lg font-bold text-white",children:[s.NOME_FANTASIA," - ",s.RAZAO_SOCIAL]})}),e.jsxs(N,{className:"flex flex-col gap-2 p-2",children:[e.jsxs("span",{className:"flex items-center gap-2 text-base font-bold text-gray-900",children:[e.jsx(L,{size:20}),"Produto: ",s.CODIGO_INTEGRACAOO," - ",s.PRODUTO]}),e.jsxs("div",{className:"flex flex-col gap-1 text-sm text-gray-700",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"Endereço: "}),s.ENDERECO," - ",s.CIDADE," - ",s.UF]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"Lote: "}),s.LOTE]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Série: "}),s.SERIE]})]}),e.jsxs("span",{className:"font-bold text-gray-900",children:[e.jsx("strong",{children:"Qtde:"})," ",s.QTDE-s.QTDE_UTILIZADA]}),s.CONTATO&&e.jsxs("span",{children:[e.jsx("strong",{children:"Contato:"})," ",s.CONTATO]}),e.jsxs("div",{className:"flex justify-between items-center border-t border-gray-100",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"Validade: "}),S(s.DATA_VALIDADE,"dd/MM/yyyy")]}),e.jsx("span",{className:h("font-bold px-2 py-1 rounded-full text-xs",s.LOCALIZACAO==="CONSIGNADO"?"bg-red-100/60 text-red-700":"bg-green-100/60 text-green-700"),children:s.LOCALIZACAO.replaceAll("_"," ")})]})]})]})]},`${s.PROD_ID}_${s.CODIGO}_${s.SERIE}`))}),(!t||t&&t.length===0)&&e.jsx("div",{className:"flex w-full items-center justify-center border-t border-gray-200 pt-4",children:e.jsx("span",{className:"text-center text-xl font-bold text-zinc-600",children:"Nenhum produto encontrado"})})]})]})}export{V as default};
