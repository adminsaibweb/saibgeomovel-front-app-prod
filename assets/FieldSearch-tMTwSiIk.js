import{L as ae,N as F,O as Oe,P as je,S as Pe,X as Qe,K as bt,aj as wt,ak as xt,al as Ke,ag as yt,Z as Ct}from"./index-DyoTrttr.js";import{C as St}from"./calendar-DReXcPtZ.js";import{P as Et,a as It,b as Rt}from"./popover-CM43x2Ig.js";import{C as rt}from"./calendar-S-JGCjKB.js";import{f as Ye}from"./format-BBYAYFtJ.js";import{p as Je}from"./pt-BR-mIVN-mbg.js";import{I as ye}from"./input-UCdoJ7gY.js";import{H as it}from"./hash-Df3cRhCB.js";import{C as ot}from"./check-BloVBNVn.js";import{C as Ot}from"./clock-lBVefJM5.js";import{C as et}from"./chevron-up-BgA_V0-q.js";import{C as tt}from"./chevron-down-DHv8nuNw.js";import{C as _t}from"./camera-ZWwgeZuu.js";function Pt({campo:y,search:w,onChange:R}){const[a,e]=ae.useState(()=>{if(w.RESPOSTA){const h=new Date(w.RESPOSTA);return isNaN(h.getTime())?void 0:h}}),[t,l]=ae.useState(!1),o=h=>{if(e(h),h){const m=Ye(h,"yyyy-MM-dd");R(m),l(!1)}else R("")};return F.jsx("div",{className:"space-y-3",children:F.jsxs(Et,{open:t,onOpenChange:l,children:[F.jsx(It,{asChild:!0,children:F.jsxs(Oe,{id:`campo-${y.GAC_ID}`,variant:"outline",className:je("w-full h-12 justify-start text-left font-normal text-lg border-zinc-200 hover:bg-zinc-50",!a&&"text-muted-foreground"),children:[F.jsx(rt,{className:"mr-2 h-5 w-5 text-zinc-400"}),a?Ye(a,"dd 'de' MMMM 'de' yyyy",{locale:Je}):F.jsx("span",{children:y.GAC_DESCRICAO||"Selecione uma data"})]})}),F.jsx(Rt,{className:"w-auto p-0",align:"start",children:F.jsx(St,{mode:"single",selected:a,onSelect:o,initialFocus:!0,locale:Je})})]})})}function Mt({campo:y,search:w,onChange:R}){const[a,e]=ae.useState(""),t=ae.useRef(!1),l=y?.GAC_VALOR_MINIMO?parseInt(y?.GAC_VALOR_MINIMO,10):0,o=y?.GAC_VALOR_MAXIMO?parseInt(y?.GAC_VALOR_MAXIMO,10):void 0,h=n=>{const i=n.target.value;t.current=!0,e(i)},m=()=>{if(t.current=!1,a===""){R(null);return}const n=parseInt(a,10);if(isNaN(n)){e("");return}if(l!==void 0&&n<l||o!==void 0&&n>o){e(""),Pe(`Valor deve estar entre ${l} e ${o??"∞"}`);return}R(n)};return ae.useEffect(()=>{t.current||(w.RESPOSTA!==null&&w.RESPOSTA!==void 0?e(w.RESPOSTA.toString()):e(""))},[w.RESPOSTA]),F.jsx("div",{className:"space-y-3",children:F.jsxs("div",{className:"relative",children:[F.jsx(it,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-zinc-400"}),F.jsx(ye,{id:`campo-${y.GAC_ID}`,type:"number",placeholder:y.GAC_DESCRICAO||"Digite um número inteiro",value:a,onChange:h,onBlur:m,step:"1",min:l,max:o,className:"pl-10 h-12 text-lg font-medium border-zinc-200 focus-visible:ring-primary"})]})})}function Ut({campo:y,search:w,onChange:R}){const a=y.GAC_VALOR_MINIMO??0,e=y.GAC_VALOR_MAXIMO??10,t=w.RESPOSTA??a,l=Array.from({length:e-a+1},(o,h)=>a+h);return F.jsxs("div",{className:"space-y-4",children:[F.jsxs("div",{className:"flex items-center justify-between mb-2",children:[F.jsxs("span",{className:"text-sm font-medium text-zinc-600",children:["Mínimo: ",a]}),F.jsx("span",{className:"text-2xl font-bold text-primary",children:t}),F.jsxs("span",{className:"text-sm font-medium text-zinc-600",children:["Máximo: ",e]})]}),F.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-8 gap-3",children:l.map(o=>F.jsx("button",{type:"button",onClick:()=>R(o),className:`
              relative p-3 border border-zinc-200 rounded-lg font-bold text-[15px]
              transition-all duration-200 ease-in-out
              hover:scale-105 active:scale-95
              ${t===o?"bg-primary text-white shadow-lg shadow-primary/30":"bg-zinc-100 text-zinc-700 hover:bg-zinc-200"}
            `,children:o},o))})]})}function Tt({campo:y,search:w,onChange:R}){const[a,e]=ae.useState(""),t=m=>{const n=m.replace(/\D/g,"");return n?(parseFloat(n)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""},l=m=>{if(!m)return null;const n=m.replace(/\./g,"").replace(",","."),i=parseFloat(n);return isNaN(i)?null:i};ae.useEffect(()=>{if(w.RESPOSTA!==null&&w.RESPOSTA!==void 0){const m=w.RESPOSTA.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});e(m)}else e("")},[w.RESPOSTA]);const o=m=>{const i=m.target.value.replace(/[^\d,]/g,""),r=t(i);e(r)},h=()=>{const m=l(a);if(m===null)return;const n=y.GAC_VALOR_MAXIMO,i=y.GAC_VALOR_MINIMO;if(n!=null&&m>n){e(""),Pe("Valor digitado inválido");return}if(i!=null&&m<i){e(""),Pe("Valor digitado inválido");return}R(m)};return F.jsx("div",{className:"space-y-3",children:F.jsxs("div",{className:"relative",children:[F.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-600 font-medium",children:"R$"}),F.jsx(ye,{id:`campo-${y.GAC_ID}`,type:"text",inputMode:"decimal",placeholder:"0,00",value:a,onChange:o,onBlur:h,className:"pl-12 h-12 text-lg font-medium border-zinc-200 focus-visible:ring-primary"})]})})}function Nt({campo:y,search:w,onChange:R}){const a=w.RESPOSTA===y.GAC_ID;return F.jsxs("label",{className:je("cursor-pointer flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all duration-150",a?y.GAC_DESCRICAO.toLowerCase().includes("não")||y.GAC_DESCRICAO.toLowerCase().includes("no")?"border-red-500 bg-red-50 text-red-600":"border-green-600 bg-green-600/8 text-green-600":"border-zinc-200  hover:bg-zinc-50"),children:[F.jsx("input",{type:"radio",name:`campo-${w.GPP_ID}`,value:y.GAC_ID,checked:a,onChange:()=>R(y.GAC_ID),className:"sr-only"}),F.jsx("div",{className:je("p-2 rounded-full mb-2",a?y.GAC_DESCRICAO.toLowerCase().includes("não")||y.GAC_DESCRICAO.toLowerCase().includes("no")?"bg-red-500 text-white":"bg-green-600 text-white":"bg-zinc-100 text-zinc-400"),children:y.GAC_DESCRICAO.toLowerCase().includes("não")||y.GAC_DESCRICAO.toLowerCase().includes("no")?F.jsx(Qe,{className:"h-6 w-6"}):F.jsx(ot,{className:"h-6 w-6"})}),F.jsx("span",{className:"font-medium",children:y.GAC_DESCRICAO})]})}function jt({campo:y,search:w,onChange:R}){const a=Array.isArray(w.RESPOSTA)?w.RESPOSTA.includes(y.GAC_DESCRICAO)||w.RESPOSTA.includes(y.GAC_ID):w.RESPOSTA===y.GAC_DESCRICAO||w.RESPOSTA===y.GAC_ID,e=()=>{w.GPP_TIPO_CAMPO===13?a?R(y.GAC_DESCRICAO,!1):R(y.GAC_DESCRICAO,!0):R(y.GAC_DESCRICAO,!a)};return F.jsxs("label",{className:je("cursor-pointer flex items-center gap-3 p-4 rounded-xl border-2 transition-all",a?"border-primary bg-primary/5 text-primary":"border-zinc-200 hover:border-primary/50 hover:bg-zinc-50"),children:[F.jsx("input",{type:"checkbox",checked:a,onChange:e,className:"sr-only"}),F.jsx("div",{className:je("flex items-center justify-center w-6 h-6 rounded border-2 transition-all",a?"bg-primary border-primary":"bg-white border-zinc-300"),children:a&&F.jsx(ot,{className:"h-4 w-4 text-white"})}),F.jsx("span",{className:"font-medium flex-1",children:y.GAC_DESCRICAO})]})}function Dt({campo:y,search:w,onChange:R}){return F.jsx("div",{className:"space-y-3",children:F.jsxs("div",{className:"relative",children:[F.jsx(rt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-zinc-400"}),F.jsx(ye,{id:`campo-${y.GAC_ID}`,type:"date",placeholder:y.GAC_DESCRICAO||"Selecione uma data",value:w.RESPOSTA||"",onChange:a=>R(a.target.value),className:"pl-10 h-12 text-lg font-medium border-zinc-200 focus-visible:ring-primary"})]})})}function Ft({campo:y,search:w,onChange:R}){const[a,e]=ae.useState("00"),[t,l]=ae.useState("00"),[o,h]=ae.useState(!1);ae.useEffect(()=>{if(w.RESPOSTA){const[v,E]=w.RESPOSTA.split(":");v&&E&&(e(v.padStart(2,"0")),l(E.padStart(2,"0")))}},[w.RESPOSTA]);const m=()=>{const E=((parseInt(a)+1)%24).toString().padStart(2,"0");e(E),R(`${E}:${t}`)},n=()=>{const E=(parseInt(a)-1<0?23:parseInt(a)-1).toString().padStart(2,"0");e(E),R(`${E}:${t}`)},i=()=>{const E=((parseInt(t)+1)%60).toString().padStart(2,"0");l(E),R(`${a}:${E}`)},r=()=>{const E=(parseInt(t)-1<0?59:parseInt(t)-1).toString().padStart(2,"0");l(E),R(`${a}:${E}`)},f=v=>{const E=parseInt(v)||0;if(E>=0&&E<=23){const A=E.toString().padStart(2,"0");e(A),R(`${A}:${t}`)}},g=v=>{const E=parseInt(v)||0;if(E>=0&&E<=59){const A=E.toString().padStart(2,"0");l(A),R(`${a}:${A}`)}};return F.jsxs("div",{className:"space-y-3",children:[F.jsxs("div",{className:"relative",children:[F.jsx(Ot,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-zinc-400"}),F.jsx(ye,{id:`campo-${y.GAC_ID}`,type:"text",placeholder:y.GAC_DESCRICAO||"Selecione um horário",value:`${a}:${t}`,onClick:()=>h(!o),readOnly:!0,className:"pl-10 h-12 text-lg font-medium border-red-200 focus-visible:ring-primary cursor-pointer"})]}),o&&F.jsxs("div",{className:"bg-white border border-zinc-200 rounded-lg p-4 shadow-lg",children:[F.jsxs("div",{className:"flex items-center justify-center gap-4",children:[F.jsxs("div",{className:"flex flex-col items-center gap-2",children:[F.jsx(Oe,{type:"button",variant:"outline",size:"icon",onClick:m,className:"h-8 w-8",children:F.jsx(et,{className:"h-4 w-4"})}),F.jsx(ye,{type:"number",min:"0",max:"23",value:a,onChange:v=>f(v.target.value),className:"w-16 px-1 h-12 text-center text-2xl font-bold"}),F.jsx(Oe,{type:"button",variant:"outline",size:"icon",onClick:n,className:"h-8 w-8",children:F.jsx(tt,{className:"h-4 w-4"})}),F.jsx("span",{className:"text-xs text-zinc-500",children:"Horas"})]}),F.jsx("span",{className:"text-3xl font-bold text-zinc-950",children:":"}),F.jsxs("div",{className:"flex flex-col items-center gap-2",children:[F.jsx(Oe,{type:"button",variant:"outline",size:"icon",onClick:i,className:"h-8 w-10",children:F.jsx(et,{className:"h-4 w-4"})}),F.jsx(ye,{type:"number",min:"0",max:"59",value:t,onChange:v=>g(v.target.value),className:"w-16 px-1 h-12 text-center text-2xl font-bold"}),F.jsx(Oe,{type:"button",variant:"outline",size:"icon",onClick:r,className:"h-8 w-8",children:F.jsx(tt,{className:"h-4 w-4"})}),F.jsx("span",{className:"text-xs text-zinc-500",children:"Minutos"})]})]}),F.jsx(Oe,{type:"button",onClick:()=>h(!1),className:"w-full mt-4",children:"Confirmar"})]})]})}function Lt(y,w){return w.forEach((function(R){R&&typeof R!="string"&&!Array.isArray(R)&&Object.keys(R).forEach((function(a){if(a!=="default"&&!(a in y)){var e=Object.getOwnPropertyDescriptor(R,a);Object.defineProperty(y,a,e.get?e:{enumerable:!0,get:function(){return R[a]}})}}))})),Object.freeze(y)}function at(y,w){return new Promise((function(R,a){let e;return Gt(y).then((function(t){try{return e=t,R(new Blob([w.slice(0,2),e,w.slice(2)],{type:"image/jpeg"}))}catch(l){return a(l)}}),a)}))}const Gt=y=>new Promise(((w,R)=>{const a=new FileReader;a.addEventListener("load",(({target:{result:e}})=>{const t=new DataView(e);let l=0;if(t.getUint16(l)!==65496)return R("not a valid JPEG");for(l+=2;;){const o=t.getUint16(l);if(o===65498)break;const h=t.getUint16(l+2);if(o===65505&&t.getUint32(l+4)===1165519206){const m=l+10;let n;switch(t.getUint16(m)){case 18761:n=!0;break;case 19789:n=!1;break;default:return R("TIFF header contains invalid endian")}if(t.getUint16(m+2,n)!==42)return R("TIFF header contains invalid version");const i=t.getUint32(m+4,n),r=m+i+2+12*t.getUint16(m+i,n);for(let f=m+i+2;f<r;f+=12)if(t.getUint16(f,n)==274){if(t.getUint16(f+2,n)!==3)return R("Orientation data type is invalid");if(t.getUint32(f+4,n)!==1)return R("Orientation data count is invalid");t.setUint16(f+8,1,n);break}return w(e.slice(l,l+2+h))}l+=2+h}return w(new Blob)})),a.readAsArrayBuffer(y)}));var Le={},zt={get exports(){return Le},set exports(y){Le=y}};(function(y){var w,R,a={};zt.exports=a,a.parse=function(e,t){for(var l=a.bin.readUshort,o=a.bin.readUint,h=0,m={},n=new Uint8Array(e),i=n.length-4;o(n,i)!=101010256;)i--;h=i,h+=4;var r=l(n,h+=4);l(n,h+=2);var f=o(n,h+=2),g=o(n,h+=4);h+=4,h=g;for(var v=0;v<r;v++){o(n,h),h+=4,h+=4,h+=4,o(n,h+=4),f=o(n,h+=4);var E=o(n,h+=4),A=l(n,h+=4),j=l(n,h+2),U=l(n,h+4);h+=6;var P=o(n,h+=8);h+=4,h+=A+j+U,a._readLocal(n,P,m,f,E,t)}return m},a._readLocal=function(e,t,l,o,h,m){var n=a.bin.readUshort,i=a.bin.readUint;i(e,t),n(e,t+=4),n(e,t+=2);var r=n(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var f=n(e,t+=8),g=n(e,t+=2);t+=2;var v=a.bin.readUTF8(e,t,f);if(t+=f,t+=g,m)l[v]={size:h,csize:o};else{var E=new Uint8Array(e.buffer,t);if(r==0)l[v]=new Uint8Array(E.buffer.slice(t,t+o));else{if(r!=8)throw"unknown compression method: "+r;var A=new Uint8Array(h);a.inflateRaw(E,A),l[v]=A}}},a.inflateRaw=function(e,t){return a.F.inflate(e,t)},a.inflate=function(e,t){return e[0],e[1],a.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},a.deflate=function(e,t){t==null&&(t={level:6});var l=0,o=new Uint8Array(50+Math.floor(1.1*e.length));o[l]=120,o[l+1]=156,l+=2,l=a.F.deflateRaw(e,o,l,t.level);var h=a.adler(e,0,e.length);return o[l+0]=h>>>24&255,o[l+1]=h>>>16&255,o[l+2]=h>>>8&255,o[l+3]=h>>>0&255,new Uint8Array(o.buffer,0,l+4)},a.deflateRaw=function(e,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*e.length)),o=a.F.deflateRaw(e,l,o,t.level);return new Uint8Array(l.buffer,0,o)},a.encode=function(e,t){t==null&&(t=!1);var l=0,o=a.bin.writeUint,h=a.bin.writeUshort,m={};for(var n in e){var i=!a._noNeed(n)&&!t,r=e[n],f=a.crc.crc(r,0,r.length);m[n]={cpr:i,usize:r.length,crc:f,file:i?a.deflateRaw(r):r}}for(var n in m)l+=m[n].file.length+30+46+2*a.bin.sizeUTF8(n);l+=22;var g=new Uint8Array(l),v=0,E=[];for(var n in m){var A=m[n];E.push(v),v=a._writeHeader(g,v,n,A,0)}var j=0,U=v;for(var n in m)A=m[n],E.push(v),v=a._writeHeader(g,v,n,A,1,E[j++]);var P=v-U;return o(g,v,101010256),v+=4,h(g,v+=4,j),h(g,v+=2,j),o(g,v+=2,P),o(g,v+=4,U),v+=4,v+=2,g.buffer},a._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},a._writeHeader=function(e,t,l,o,h,m){var n=a.bin.writeUint,i=a.bin.writeUshort,r=o.file;return n(e,t,h==0?67324752:33639248),t+=4,h==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,o.cpr?8:0),n(e,t+=2,0),n(e,t+=4,o.crc),n(e,t+=4,r.length),n(e,t+=4,o.usize),i(e,t+=4,a.bin.sizeUTF8(l)),i(e,t+=2,0),t+=2,h==1&&(t+=2,t+=2,n(e,t+=6,m),t+=4),t+=a.bin.writeUTF8(e,t,l),h==0&&(e.set(r,t),t+=r.length),t},a.crc={table:(function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var l=t,o=0;o<8;o++)1&l?l=3988292384^l>>>1:l>>>=1;e[t]=l}return e})(),update:function(e,t,l,o){for(var h=0;h<o;h++)e=a.crc.table[255&(e^t[l+h])]^e>>>8;return e},crc:function(e,t,l){return 4294967295^a.crc.update(4294967295,e,t,l)}},a.adler=function(e,t,l){for(var o=1,h=0,m=t,n=t+l;m<n;){for(var i=Math.min(m+5552,n);m<i;)h+=o+=e[m++];o%=65521,h%=65521}return h<<16|o},a.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255,e[t+2]=l>>16&255,e[t+3]=l>>24&255},readASCII:function(e,t,l){for(var o="",h=0;h<l;h++)o+=String.fromCharCode(e[t+h]);return o},writeASCII:function(e,t,l){for(var o=0;o<l.length;o++)e[t+o]=l.charCodeAt(o)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,l){for(var o,h="",m=0;m<l;m++)h+="%"+a.bin.pad(e[t+m].toString(16));try{o=decodeURIComponent(h)}catch{return a.bin.readASCII(e,t,l)}return o},writeUTF8:function(e,t,l){for(var o=l.length,h=0,m=0;m<o;m++){var n=l.charCodeAt(m);if((4294967168&n)==0)e[t+h]=n,h++;else if((4294965248&n)==0)e[t+h]=192|n>>6,e[t+h+1]=128|n>>0&63,h+=2;else if((4294901760&n)==0)e[t+h]=224|n>>12,e[t+h+1]=128|n>>6&63,e[t+h+2]=128|n>>0&63,h+=3;else{if((4292870144&n)!=0)throw"e";e[t+h]=240|n>>18,e[t+h+1]=128|n>>12&63,e[t+h+2]=128|n>>6&63,e[t+h+3]=128|n>>0&63,h+=4}}return h},sizeUTF8:function(e){for(var t=e.length,l=0,o=0;o<t;o++){var h=e.charCodeAt(o);if((4294967168&h)==0)l++;else if((4294965248&h)==0)l+=2;else if((4294901760&h)==0)l+=3;else{if((4292870144&h)!=0)throw"e";l+=4}}return l}},a.F={},a.F.deflateRaw=function(e,t,l,o){var h=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],m=a.F.U,n=a.F._goodIndex;a.F._hash;var i=a.F._putsE,r=0,f=l<<3,g=0,v=e.length;if(o==0){for(;r<v;)i(t,f,r+(S=Math.min(65535,v-r))==v?1:0),f=a.F._copyExact(e,r,S,t,f+8),r+=S;return f>>>3}var E=m.lits,A=m.strt,j=m.prev,U=0,P=0,D=0,p=0,T=0,u=0;for(v>2&&(A[u=a.F._hash(e,0)]=0),r=0;r<v;r++){if(T=u,r+1<v-2){u=a.F._hash(e,r+1);var c=r+1&32767;j[c]=A[u],A[u]=c}if(g<=r){(U>14e3||P>26697)&&v-r>100&&(g<r&&(E[U]=r-g,U+=2,g=r),f=a.F._writeBlock(r==v-1||g==v?1:0,E,U,p,e,D,r-D,t,f),U=P=p=0,D=r);var x=0;r<v-2&&(x=a.F._bestMatch(e,r,j,T,Math.min(h[2],v-r),h[3]));var S=x>>>16,C=65535&x;if(x!=0){C=65535&x;var I=n(S=x>>>16,m.of0);m.lhst[257+I]++;var b=n(C,m.df0);m.dhst[b]++,p+=m.exb[I]+m.dxb[b],E[U]=S<<23|r-g,E[U+1]=C<<16|I<<8|b,U+=2,g=r+S}else m.lhst[e[r]]++;P++}}for(D==r&&e.length!=0||(g<r&&(E[U]=r-g,U+=2,g=r),f=a.F._writeBlock(1,E,U,p,e,D,r-D,t,f),U=0,P=0,U=P=p=0,D=r);(7&f)!=0;)f++;return f>>>3},a.F._bestMatch=function(e,t,l,o,h,m){var n=32767&t,i=l[n],r=n-i+32768&32767;if(i==n||o!=a.F._hash(e,t-r))return 0;for(var f=0,g=0,v=Math.min(32767,t);r<=v&&--m!=0&&i!=n;){if(f==0||e[t+f]==e[t+f-r]){var E=a.F._howLong(e,t,r);if(E>f){if(g=r,(f=E)>=h)break;r+2<E&&(E=r+2);for(var A=0,j=0;j<E-2;j++){var U=t-r+j+32768&32767,P=U-l[U]+32768&32767;P>A&&(A=P,i=U)}}}r+=(n=i)-(i=l[n])+32768&32767}return f<<16|g},a.F._howLong=function(e,t,l){if(e[t]!=e[t-l]||e[t+1]!=e[t+1-l]||e[t+2]!=e[t+2-l])return 0;var o=t,h=Math.min(e.length,t+258);for(t+=3;t<h&&e[t]==e[t-l];)t++;return t-o},a.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},a.saved=0,a.F._writeBlock=function(e,t,l,o,h,m,n,i,r){var f,g,v,E,A,j,U,P,D,p=a.F.U,T=a.F._putsF,u=a.F._putsE;p.lhst[256]++,g=(f=a.F.getTrees())[0],v=f[1],E=f[2],A=f[3],j=f[4],U=f[5],P=f[6],D=f[7];var c=32+((r+3&7)==0?0:8-(r+3&7))+(n<<3),x=o+a.F.contSize(p.fltree,p.lhst)+a.F.contSize(p.fdtree,p.dhst),S=o+a.F.contSize(p.ltree,p.lhst)+a.F.contSize(p.dtree,p.dhst);S+=14+3*U+a.F.contSize(p.itree,p.ihst)+(2*p.ihst[16]+3*p.ihst[17]+7*p.ihst[18]);for(var C=0;C<286;C++)p.lhst[C]=0;for(C=0;C<30;C++)p.dhst[C]=0;for(C=0;C<19;C++)p.ihst[C]=0;var I=c<x&&c<S?0:x<S?1:2;if(T(i,r,e),T(i,r+1,I),r+=3,I==0){for(;(7&r)!=0;)r++;r=a.F._copyExact(h,m,n,i,r)}else{var b,_;if(I==1&&(b=p.fltree,_=p.fdtree),I==2){a.F.makeCodes(p.ltree,g),a.F.revCodes(p.ltree,g),a.F.makeCodes(p.dtree,v),a.F.revCodes(p.dtree,v),a.F.makeCodes(p.itree,E),a.F.revCodes(p.itree,E),b=p.ltree,_=p.dtree,u(i,r,A-257),u(i,r+=5,j-1),u(i,r+=5,U-4),r+=4;for(var d=0;d<U;d++)u(i,r+3*d,p.itree[1+(p.ordr[d]<<1)]);r+=3*U,r=a.F._codeTiny(P,p.itree,i,r),r=a.F._codeTiny(D,p.itree,i,r)}for(var s=m,N=0;N<l;N+=2){for(var O=t[N],L=O>>>23,H=s+(8388607&O);s<H;)r=a.F._writeLit(h[s++],b,i,r);if(L!=0){var z=t[N+1],k=z>>16,G=z>>8&255,M=255&z;u(i,r=a.F._writeLit(257+G,b,i,r),L-p.of0[G]),r+=p.exb[G],T(i,r=a.F._writeLit(M,_,i,r),k-p.df0[M]),r+=p.dxb[M],s+=L}}r=a.F._writeLit(256,b,i,r)}return r},a.F._copyExact=function(e,t,l,o,h){var m=h>>>3;return o[m]=l,o[m+1]=l>>>8,o[m+2]=255-o[m],o[m+3]=255-o[m+1],m+=4,o.set(new Uint8Array(e.buffer,t,l),m),h+(l+4<<3)},a.F.getTrees=function(){for(var e=a.F.U,t=a.F._hufTree(e.lhst,e.ltree,15),l=a.F._hufTree(e.dhst,e.dtree,15),o=[],h=a.F._lenCodes(e.ltree,o),m=[],n=a.F._lenCodes(e.dtree,m),i=0;i<o.length;i+=2)e.ihst[o[i]]++;for(i=0;i<m.length;i+=2)e.ihst[m[i]]++;for(var r=a.F._hufTree(e.ihst,e.itree,7),f=19;f>4&&e.itree[1+(e.ordr[f-1]<<1)]==0;)f--;return[t,l,r,h,n,f,o,m]},a.F.getSecond=function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(e[l+1]);return t},a.F.nonZero=function(e){for(var t="",l=0;l<e.length;l+=2)e[l+1]!=0&&(t+=(l>>1)+",");return t},a.F.contSize=function(e,t){for(var l=0,o=0;o<t.length;o++)l+=t[o]*e[1+(o<<1)];return l},a.F._codeTiny=function(e,t,l,o){for(var h=0;h<e.length;h+=2){var m=e[h],n=e[h+1];o=a.F._writeLit(m,t,l,o);var i=m==16?2:m==17?3:7;m>15&&(a.F._putsE(l,o,n,i),o+=i)}return o},a.F._lenCodes=function(e,t){for(var l=e.length;l!=2&&e[l-1]==0;)l-=2;for(var o=0;o<l;o+=2){var h=e[o+1],m=o+3<l?e[o+3]:-1,n=o+5<l?e[o+5]:-1,i=o==0?-1:e[o-1];if(h==0&&m==h&&n==h){for(var r=o+5;r+2<l&&e[r+2]==h;)r+=2;(f=Math.min(r+1-o>>>1,138))<11?t.push(17,f-3):t.push(18,f-11),o+=2*f-2}else if(h==i&&m==h&&n==h){for(r=o+5;r+2<l&&e[r+2]==h;)r+=2;var f=Math.min(r+1-o>>>1,6);t.push(16,f-3),o+=2*f-2}else t.push(h,0)}return l>>>1},a.F._hufTree=function(e,t,l){var o=[],h=e.length,m=t.length,n=0;for(n=0;n<m;n+=2)t[n]=0,t[n+1]=0;for(n=0;n<h;n++)e[n]!=0&&o.push({lit:n,f:e[n]});var i=o.length,r=o.slice(0);if(i==0)return 0;if(i==1){var f=o[0].lit;return r=f==0?1:0,t[1+(f<<1)]=1,t[1+(r<<1)]=1,1}o.sort((function(P,D){return P.f-D.f}));var g=o[0],v=o[1],E=0,A=1,j=2;for(o[0]={lit:-1,f:g.f+v.f,l:g,r:v,d:0};A!=i-1;)g=E!=A&&(j==i||o[E].f<o[j].f)?o[E++]:o[j++],v=E!=A&&(j==i||o[E].f<o[j].f)?o[E++]:o[j++],o[A++]={lit:-1,f:g.f+v.f,l:g,r:v};var U=a.F.setDepth(o[A-1],0);for(U>l&&(a.F.restrictDepth(r,l,U),U=l),n=0;n<i;n++)t[1+(r[n].lit<<1)]=r[n].d;return U},a.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(a.F.setDepth(e.l,t+1),a.F.setDepth(e.r,t+1))},a.F.restrictDepth=function(e,t,l){var o=0,h=1<<l-t,m=0;for(e.sort((function(i,r){return r.d==i.d?i.f-r.f:r.d-i.d})),o=0;o<e.length&&e[o].d>t;o++){var n=e[o].d;e[o].d=t,m+=h-(1<<l-n)}for(m>>>=l-t;m>0;)(n=e[o].d)<t?(e[o].d++,m-=1<<t-n-1):o++;for(;o>=0;o--)e[o].d==t&&m<0&&(e[o].d--,m++);m!=0&&console.log("debt left")},a.F._goodIndex=function(e,t){var l=0;return t[16|l]<=e&&(l|=16),t[8|l]<=e&&(l|=8),t[4|l]<=e&&(l|=4),t[2|l]<=e&&(l|=2),t[1|l]<=e&&(l|=1),l},a.F._writeLit=function(e,t,l,o){return a.F._putsF(l,o,t[e<<1]),o+t[1+(e<<1)]},a.F.inflate=function(e,t){var l=Uint8Array;if(e[0]==3&&e[1]==0)return t||new l(0);var o=a.F,h=o._bitsF,m=o._bitsE,n=o._decodeTiny,i=o.makeCodes,r=o.codes2map,f=o._get17,g=o.U,v=t==null;v&&(t=new l(e.length>>>2<<3));for(var E,A,j=0,U=0,P=0,D=0,p=0,T=0,u=0,c=0,x=0;j==0;)if(j=h(e,x,1),U=h(e,x+1,2),x+=3,U!=0){if(v&&(t=a.F._check(t,c+(1<<17))),U==1&&(E=g.flmap,A=g.fdmap,T=511,u=31),U==2){P=m(e,x,5)+257,D=m(e,x+5,5)+1,p=m(e,x+10,4)+4,x+=14;for(var S=0;S<38;S+=2)g.itree[S]=0,g.itree[S+1]=0;var C=1;for(S=0;S<p;S++){var I=m(e,x+3*S,3);g.itree[1+(g.ordr[S]<<1)]=I,I>C&&(C=I)}x+=3*p,i(g.itree,C),r(g.itree,C,g.imap),E=g.lmap,A=g.dmap,x=n(g.imap,(1<<C)-1,P+D,e,x,g.ttree);var b=o._copyOut(g.ttree,0,P,g.ltree);T=(1<<b)-1;var _=o._copyOut(g.ttree,P,D,g.dtree);u=(1<<_)-1,i(g.ltree,b),r(g.ltree,b,E),i(g.dtree,_),r(g.dtree,_,A)}for(;;){var d=E[f(e,x)&T];x+=15&d;var s=d>>>4;if(!(s>>>8))t[c++]=s;else{if(s==256)break;var N=c+s-254;if(s>264){var O=g.ldef[s-257];N=c+(O>>>3)+m(e,x,7&O),x+=7&O}var L=A[f(e,x)&u];x+=15&L;var H=L>>>4,z=g.ddef[H],k=(z>>>4)+h(e,x,15&z);for(x+=15&z,v&&(t=a.F._check(t,c+(1<<17)));c<N;)t[c]=t[c++-k],t[c]=t[c++-k],t[c]=t[c++-k],t[c]=t[c++-k];c=N}}}else{(7&x)!=0&&(x+=8-(7&x));var G=4+(x>>>3),M=e[G-4]|e[G-3]<<8;v&&(t=a.F._check(t,c+M)),t.set(new l(e.buffer,e.byteOffset+G,M),c),x=G+M<<3,c+=M}return t.length==c?t:t.slice(0,c)},a.F._check=function(e,t){var l=e.length;if(t<=l)return e;var o=new Uint8Array(Math.max(l<<1,t));return o.set(e,0),o},a.F._decodeTiny=function(e,t,l,o,h,m){for(var n=a.F._bitsE,i=a.F._get17,r=0;r<l;){var f=e[i(o,h)&t];h+=15&f;var g=f>>>4;if(g<=15)m[r]=g,r++;else{var v=0,E=0;g==16?(E=3+n(o,h,2),h+=2,v=m[r-1]):g==17?(E=3+n(o,h,3),h+=3):g==18&&(E=11+n(o,h,7),h+=7);for(var A=r+E;r<A;)m[r]=v,r++}}return h},a.F._copyOut=function(e,t,l,o){for(var h=0,m=0,n=o.length>>>1;m<l;){var i=e[m+t];o[m<<1]=0,o[1+(m<<1)]=i,i>h&&(h=i),m++}for(;m<n;)o[m<<1]=0,o[1+(m<<1)]=0,m++;return h},a.F.makeCodes=function(e,t){for(var l,o,h,m,n=a.F.U,i=e.length,r=n.bl_count,f=0;f<=t;f++)r[f]=0;for(f=1;f<i;f+=2)r[e[f]]++;var g=n.next_code;for(l=0,r[0]=0,o=1;o<=t;o++)l=l+r[o-1]<<1,g[o]=l;for(h=0;h<i;h+=2)(m=e[h+1])!=0&&(e[h]=g[m],g[m]++)},a.F.codes2map=function(e,t,l){for(var o=e.length,h=a.F.U.rev15,m=0;m<o;m+=2)if(e[m+1]!=0)for(var n=m>>1,i=e[m+1],r=n<<4|i,f=t-i,g=e[m]<<f,v=g+(1<<f);g!=v;)l[h[g]>>>15-t]=r,g++},a.F.revCodes=function(e,t){for(var l=a.F.U.rev15,o=15-t,h=0;h<e.length;h+=2){var m=e[h]<<t-e[h+1];e[h]=l[m]>>>o}},a.F._putsE=function(e,t,l){l<<=7&t;var o=t>>>3;e[o]|=l,e[o+1]|=l>>>8},a.F._putsF=function(e,t,l){l<<=7&t;var o=t>>>3;e[o]|=l,e[o+1]|=l>>>8,e[o+2]|=l>>>16},a.F._bitsE=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},a.F._bitsF=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},a.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},a.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},a.F.U=(w=Uint16Array,R=Uint32Array,{next_code:new w(16),bl_count:new w(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new w(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new R(32),flmap:new w(512),fltree:[],fdmap:new w(32),fdtree:[],lmap:new w(32768),ltree:[],ttree:[],dmap:new w(32768),dtree:[],imap:new w(512),itree:[],rev15:new w(32768),lhst:new R(286),dhst:new R(30),ihst:new R(19),lits:new R(15e3),strt:new w(65536),prev:new w(32768)}),(function(){for(var e=a.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,e.rev15[t]=(l>>>16|l<<16)>>>17}function o(h,m,n){for(;m--!=0;)h.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];o(e.fltree,144,8),o(e.fltree,112,9),o(e.fltree,24,7),o(e.fltree,8,8),a.F.makeCodes(e.fltree,9),a.F.codes2map(e.fltree,9,e.flmap),a.F.revCodes(e.fltree,9),o(e.fdtree,32,5),a.F.makeCodes(e.fdtree,5),a.F.codes2map(e.fdtree,5,e.fdmap),a.F.revCodes(e.fdtree,5),o(e.itree,19,0),o(e.ltree,286,0),o(e.dtree,30,0),o(e.ttree,320,0)})()})();var kt=Lt({__proto__:null,default:Le},[Le]);const me=(function(){var y={nextZero(n,i){for(;n[i]!=0;)i++;return i},readUshort:(n,i)=>n[i]<<8|n[i+1],writeUshort(n,i,r){n[i]=r>>8&255,n[i+1]=255&r},readUint:(n,i)=>16777216*n[i]+(n[i+1]<<16|n[i+2]<<8|n[i+3]),writeUint(n,i,r){n[i]=r>>24&255,n[i+1]=r>>16&255,n[i+2]=r>>8&255,n[i+3]=255&r},readASCII(n,i,r){let f="";for(let g=0;g<r;g++)f+=String.fromCharCode(n[i+g]);return f},writeASCII(n,i,r){for(let f=0;f<r.length;f++)n[i+f]=r.charCodeAt(f)},readBytes(n,i,r){const f=[];for(let g=0;g<r;g++)f.push(n[i+g]);return f},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,i,r){let f,g="";for(let v=0;v<r;v++)g+=`%${y.pad(n[i+v].toString(16))}`;try{f=decodeURIComponent(g)}catch{return y.readASCII(n,i,r)}return f}};function w(n,i,r,f){const g=i*r,v=t(f),E=Math.ceil(i*v/8),A=new Uint8Array(4*g),j=new Uint32Array(A.buffer),{ctype:U}=f,{depth:P}=f,D=y.readUshort;if(U==6){const O=g<<2;if(P==8)for(var p=0;p<O;p+=4)A[p]=n[p],A[p+1]=n[p+1],A[p+2]=n[p+2],A[p+3]=n[p+3];if(P==16)for(p=0;p<O;p++)A[p]=n[p<<1]}else if(U==2){const O=f.tabs.tRNS;if(O==null){if(P==8)for(p=0;p<g;p++){var T=3*p;j[p]=255<<24|n[T+2]<<16|n[T+1]<<8|n[T]}if(P==16)for(p=0;p<g;p++)T=6*p,j[p]=255<<24|n[T+4]<<16|n[T+2]<<8|n[T]}else{var u=O[0];const L=O[1],H=O[2];if(P==8)for(p=0;p<g;p++){var c=p<<2;T=3*p,j[p]=255<<24|n[T+2]<<16|n[T+1]<<8|n[T],n[T]==u&&n[T+1]==L&&n[T+2]==H&&(A[c+3]=0)}if(P==16)for(p=0;p<g;p++)c=p<<2,T=6*p,j[p]=255<<24|n[T+4]<<16|n[T+2]<<8|n[T],D(n,T)==u&&D(n,T+2)==L&&D(n,T+4)==H&&(A[c+3]=0)}}else if(U==3){const O=f.tabs.PLTE,L=f.tabs.tRNS,H=L?L.length:0;if(P==1)for(var x=0;x<r;x++){var S=x*E,C=x*i;for(p=0;p<i;p++){c=C+p<<2;var I=3*(b=n[S+(p>>3)]>>7-((7&p)<<0)&1);A[c]=O[I],A[c+1]=O[I+1],A[c+2]=O[I+2],A[c+3]=b<H?L[b]:255}}if(P==2)for(x=0;x<r;x++)for(S=x*E,C=x*i,p=0;p<i;p++)c=C+p<<2,I=3*(b=n[S+(p>>2)]>>6-((3&p)<<1)&3),A[c]=O[I],A[c+1]=O[I+1],A[c+2]=O[I+2],A[c+3]=b<H?L[b]:255;if(P==4)for(x=0;x<r;x++)for(S=x*E,C=x*i,p=0;p<i;p++)c=C+p<<2,I=3*(b=n[S+(p>>1)]>>4-((1&p)<<2)&15),A[c]=O[I],A[c+1]=O[I+1],A[c+2]=O[I+2],A[c+3]=b<H?L[b]:255;if(P==8)for(p=0;p<g;p++){var b;c=p<<2,I=3*(b=n[p]),A[c]=O[I],A[c+1]=O[I+1],A[c+2]=O[I+2],A[c+3]=b<H?L[b]:255}}else if(U==4){if(P==8)for(p=0;p<g;p++){c=p<<2;var _=n[d=p<<1];A[c]=_,A[c+1]=_,A[c+2]=_,A[c+3]=n[d+1]}if(P==16)for(p=0;p<g;p++){var d;c=p<<2,_=n[d=p<<2],A[c]=_,A[c+1]=_,A[c+2]=_,A[c+3]=n[d+2]}}else if(U==0)for(u=f.tabs.tRNS?f.tabs.tRNS:-1,x=0;x<r;x++){const O=x*E,L=x*i;if(P==1)for(var s=0;s<i;s++){var N=(_=255*(n[O+(s>>>3)]>>>7-(7&s)&1))==255*u?0:255;j[L+s]=N<<24|_<<16|_<<8|_}else if(P==2)for(s=0;s<i;s++)N=(_=85*(n[O+(s>>>2)]>>>6-((3&s)<<1)&3))==85*u?0:255,j[L+s]=N<<24|_<<16|_<<8|_;else if(P==4)for(s=0;s<i;s++)N=(_=17*(n[O+(s>>>1)]>>>4-((1&s)<<2)&15))==17*u?0:255,j[L+s]=N<<24|_<<16|_<<8|_;else if(P==8)for(s=0;s<i;s++)N=(_=n[O+s])==u?0:255,j[L+s]=N<<24|_<<16|_<<8|_;else if(P==16)for(s=0;s<i;s++)_=n[O+(s<<1)],N=D(n,O+(s<<1))==u?0:255,j[L+s]=N<<24|_<<16|_<<8|_}return A}function R(n,i,r,f){const g=t(n),v=Math.ceil(r*g/8),E=new Uint8Array((v+1+n.interlace)*f);return i=n.tabs.CgBI?e(i,E):a(i,E),n.interlace==0?i=l(i,n,0,r,f):n.interlace==1&&(i=(function(j,U){const P=U.width,D=U.height,p=t(U),T=p>>3,u=Math.ceil(P*p/8),c=new Uint8Array(D*u);let x=0;const S=[0,0,4,0,2,0,1],C=[0,4,0,2,0,1,0],I=[8,8,8,4,4,2,2],b=[8,8,4,4,2,2,1];let _=0;for(;_<7;){const s=I[_],N=b[_];let O=0,L=0,H=S[_];for(;H<D;)H+=s,L++;let z=C[_];for(;z<P;)z+=N,O++;const k=Math.ceil(O*p/8);l(j,U,x,O,L);let G=0,M=S[_];for(;M<D;){let $=C[_],X=x+G*k<<3;for(;$<P;){var d;if(p==1&&(d=(d=j[X>>3])>>7-(7&X)&1,c[M*u+($>>3)]|=d<<7-((7&$)<<0)),p==2&&(d=(d=j[X>>3])>>6-(7&X)&3,c[M*u+($>>2)]|=d<<6-((3&$)<<1)),p==4&&(d=(d=j[X>>3])>>4-(7&X)&15,c[M*u+($>>1)]|=d<<4-((1&$)<<2)),p>=8){const B=M*u+$*T;for(let V=0;V<T;V++)c[B+V]=j[(X>>3)+V]}X+=p,$+=N}G++,M+=s}O*L!=0&&(x+=L*(1+k)),_+=1}return c})(i,n)),i}function a(n,i){return e(new Uint8Array(n.buffer,2,n.length-6),i)}var e=(function(){const n={H:{}};return n.H.N=function(i,r){const f=Uint8Array;let g,v,E=0,A=0,j=0,U=0,P=0,D=0,p=0,T=0,u=0;if(i[0]==3&&i[1]==0)return r||new f(0);const c=n.H,x=c.b,S=c.e,C=c.R,I=c.n,b=c.A,_=c.Z,d=c.m,s=r==null;for(s&&(r=new f(i.length>>>2<<5));E==0;)if(E=x(i,u,1),A=x(i,u+1,2),u+=3,A!=0){if(s&&(r=n.H.W(r,T+(1<<17))),A==1&&(g=d.J,v=d.h,D=511,p=31),A==2){j=S(i,u,5)+257,U=S(i,u+5,5)+1,P=S(i,u+10,4)+4,u+=14;let O=1;for(var N=0;N<38;N+=2)d.Q[N]=0,d.Q[N+1]=0;for(N=0;N<P;N++){const z=S(i,u+3*N,3);d.Q[1+(d.X[N]<<1)]=z,z>O&&(O=z)}u+=3*P,I(d.Q,O),b(d.Q,O,d.u),g=d.w,v=d.d,u=C(d.u,(1<<O)-1,j+U,i,u,d.v);const L=c.V(d.v,0,j,d.C);D=(1<<L)-1;const H=c.V(d.v,j,U,d.D);p=(1<<H)-1,I(d.C,L),b(d.C,L,g),I(d.D,H),b(d.D,H,v)}for(;;){const O=g[_(i,u)&D];u+=15&O;const L=O>>>4;if(!(L>>>8))r[T++]=L;else{if(L==256)break;{let H=T+L-254;if(L>264){const $=d.q[L-257];H=T+($>>>3)+S(i,u,7&$),u+=7&$}const z=v[_(i,u)&p];u+=15&z;const k=z>>>4,G=d.c[k],M=(G>>>4)+x(i,u,15&G);for(u+=15&G;T<H;)r[T]=r[T++-M],r[T]=r[T++-M],r[T]=r[T++-M],r[T]=r[T++-M];T=H}}}}else{(7&u)!=0&&(u+=8-(7&u));const O=4+(u>>>3),L=i[O-4]|i[O-3]<<8;s&&(r=n.H.W(r,T+L)),r.set(new f(i.buffer,i.byteOffset+O,L),T),u=O+L<<3,T+=L}return r.length==T?r:r.slice(0,T)},n.H.W=function(i,r){const f=i.length;if(r<=f)return i;const g=new Uint8Array(f<<1);return g.set(i,0),g},n.H.R=function(i,r,f,g,v,E){const A=n.H.e,j=n.H.Z;let U=0;for(;U<f;){const P=i[j(g,v)&r];v+=15&P;const D=P>>>4;if(D<=15)E[U]=D,U++;else{let p=0,T=0;D==16?(T=3+A(g,v,2),v+=2,p=E[U-1]):D==17?(T=3+A(g,v,3),v+=3):D==18&&(T=11+A(g,v,7),v+=7);const u=U+T;for(;U<u;)E[U]=p,U++}}return v},n.H.V=function(i,r,f,g){let v=0,E=0;const A=g.length>>>1;for(;E<f;){const j=i[E+r];g[E<<1]=0,g[1+(E<<1)]=j,j>v&&(v=j),E++}for(;E<A;)g[E<<1]=0,g[1+(E<<1)]=0,E++;return v},n.H.n=function(i,r){const f=n.H.m,g=i.length;let v,E,A,j;const U=f.j;for(var P=0;P<=r;P++)U[P]=0;for(P=1;P<g;P+=2)U[i[P]]++;const D=f.K;for(v=0,U[0]=0,E=1;E<=r;E++)v=v+U[E-1]<<1,D[E]=v;for(A=0;A<g;A+=2)j=i[A+1],j!=0&&(i[A]=D[j],D[j]++)},n.H.A=function(i,r,f){const g=i.length,v=n.H.m.r;for(let E=0;E<g;E+=2)if(i[E+1]!=0){const A=E>>1,j=i[E+1],U=A<<4|j,P=r-j;let D=i[E]<<P;const p=D+(1<<P);for(;D!=p;)f[v[D]>>>15-r]=U,D++}},n.H.l=function(i,r){const f=n.H.m.r,g=15-r;for(let v=0;v<i.length;v+=2){const E=i[v]<<r-i[v+1];i[v]=f[E]>>>g}},n.H.M=function(i,r,f){f<<=7&r;const g=r>>>3;i[g]|=f,i[g+1]|=f>>>8},n.H.I=function(i,r,f){f<<=7&r;const g=r>>>3;i[g]|=f,i[g+1]|=f>>>8,i[g+2]|=f>>>16},n.H.e=function(i,r,f){return(i[r>>>3]|i[1+(r>>>3)]<<8)>>>(7&r)&(1<<f)-1},n.H.b=function(i,r,f){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)&(1<<f)-1},n.H.Z=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)},n.H.i=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16|i[3+(r>>>3)]<<24)>>>(7&r)},n.H.m=(function(){const i=Uint16Array,r=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new i(65536),g:new i(32768)}})(),(function(){const i=n.H.m;for(var r=0;r<32768;r++){let g=r;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,i.r[r]=(g>>>16|g<<16)>>>17}function f(g,v,E){for(;v--!=0;)g.push(0,E)}for(r=0;r<32;r++)i.q[r]=i.S[r]<<3|i.T[r],i.c[r]=i.p[r]<<4|i.z[r];f(i._,144,8),f(i._,112,9),f(i._,24,7),f(i._,8,8),n.H.n(i._,9),n.H.A(i._,9,i.J),n.H.l(i._,9),f(i.$,32,5),n.H.n(i.$,5),n.H.A(i.$,5,i.h),n.H.l(i.$,5),f(i.Q,19,0),f(i.C,286,0),f(i.D,30,0),f(i.v,320,0)})(),n.H.N})();function t(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function l(n,i,r,f,g){let v=t(i);const E=Math.ceil(f*v/8);let A,j;v=Math.ceil(v/8);let U=n[r],P=0;if(U>1&&(n[r]=[0,0,1][U-2]),U==3)for(P=v;P<E;P++)n[P+1]=n[P+1]+(n[P+1-v]>>>1)&255;for(let D=0;D<g;D++)if(A=r+D*E,j=A+D+1,U=n[j-1],P=0,U==0)for(;P<E;P++)n[A+P]=n[j+P];else if(U==1){for(;P<v;P++)n[A+P]=n[j+P];for(;P<E;P++)n[A+P]=n[j+P]+n[A+P-v]}else if(U==2)for(;P<E;P++)n[A+P]=n[j+P]+n[A+P-E];else if(U==3){for(;P<v;P++)n[A+P]=n[j+P]+(n[A+P-E]>>>1);for(;P<E;P++)n[A+P]=n[j+P]+(n[A+P-E]+n[A+P-v]>>>1)}else{for(;P<v;P++)n[A+P]=n[j+P]+o(0,n[A+P-E],0);for(;P<E;P++)n[A+P]=n[j+P]+o(n[A+P-v],n[A+P-E],n[A+P-v-E])}return n}function o(n,i,r){const f=n+i-r,g=f-n,v=f-i,E=f-r;return g*g<=v*v&&g*g<=E*E?n:v*v<=E*E?i:r}function h(n,i,r){r.width=y.readUint(n,i),i+=4,r.height=y.readUint(n,i),i+=4,r.depth=n[i],i++,r.ctype=n[i],i++,r.compress=n[i],i++,r.filter=n[i],i++,r.interlace=n[i],i++}function m(n,i,r,f,g,v,E,A,j){const U=Math.min(i,g),P=Math.min(r,v);let D=0,p=0;for(let _=0;_<P;_++)for(let d=0;d<U;d++)if(E>=0&&A>=0?(D=_*i+d<<2,p=(A+_)*g+E+d<<2):(D=(-A+_)*i-E+d<<2,p=_*g+d<<2),j==0)f[p]=n[D],f[p+1]=n[D+1],f[p+2]=n[D+2],f[p+3]=n[D+3];else if(j==1){var T=n[D+3]*.00392156862745098,u=n[D]*T,c=n[D+1]*T,x=n[D+2]*T,S=f[p+3]*(1/255),C=f[p]*S,I=f[p+1]*S,b=f[p+2]*S;const s=1-T,N=T+S*s,O=N==0?0:1/N;f[p+3]=255*N,f[p+0]=(u+C*s)*O,f[p+1]=(c+I*s)*O,f[p+2]=(x+b*s)*O}else if(j==2)T=n[D+3],u=n[D],c=n[D+1],x=n[D+2],S=f[p+3],C=f[p],I=f[p+1],b=f[p+2],T==S&&u==C&&c==I&&x==b?(f[p]=0,f[p+1]=0,f[p+2]=0,f[p+3]=0):(f[p]=u,f[p+1]=c,f[p+2]=x,f[p+3]=T);else if(j==3){if(T=n[D+3],u=n[D],c=n[D+1],x=n[D+2],S=f[p+3],C=f[p],I=f[p+1],b=f[p+2],T==S&&u==C&&c==I&&x==b)continue;if(T<220&&S>20)return!1}return!0}return{decode:function(i){const r=new Uint8Array(i);let f=8;const g=y,v=g.readUshort,E=g.readUint,A={tabs:{},frames:[]},j=new Uint8Array(r.length);let U,P=0,D=0;const p=[137,80,78,71,13,10,26,10];for(var T=0;T<8;T++)if(r[T]!=p[T])throw"The input is not a PNG file!";for(;f<r.length;){const _=g.readUint(r,f);f+=4;const d=g.readASCII(r,f,4);if(f+=4,d=="IHDR")h(r,f,A);else if(d=="iCCP"){for(var u=f;r[u]!=0;)u++;g.readASCII(r,f,u-f),r[u+1];const s=r.slice(u+2,f+_);let N=null;try{N=a(s)}catch{N=e(s)}A.tabs[d]=N}else if(d=="CgBI")A.tabs[d]=r.slice(f,f+4);else if(d=="IDAT"){for(T=0;T<_;T++)j[P+T]=r[f+T];P+=_}else if(d=="acTL")A.tabs[d]={num_frames:E(r,f),num_plays:E(r,f+4)},U=new Uint8Array(r.length);else if(d=="fcTL"){D!=0&&((b=A.frames[A.frames.length-1]).data=R(A,U.slice(0,D),b.rect.width,b.rect.height),D=0);const s={x:E(r,f+12),y:E(r,f+16),width:E(r,f+4),height:E(r,f+8)};let N=v(r,f+22);N=v(r,f+20)/(N==0?100:N);const O={rect:s,delay:Math.round(1e3*N),dispose:r[f+24],blend:r[f+25]};A.frames.push(O)}else if(d=="fdAT"){for(T=0;T<_-4;T++)U[D+T]=r[f+T+4];D+=_-4}else if(d=="pHYs")A.tabs[d]=[g.readUint(r,f),g.readUint(r,f+4),r[f+8]];else if(d=="cHRM")for(A.tabs[d]=[],T=0;T<8;T++)A.tabs[d].push(g.readUint(r,f+4*T));else if(d=="tEXt"||d=="zTXt"){A.tabs[d]==null&&(A.tabs[d]={});var c=g.nextZero(r,f),x=g.readASCII(r,f,c-f),S=f+_-c-1;if(d=="tEXt")I=g.readASCII(r,c+1,S);else{var C=a(r.slice(c+2,c+2+S));I=g.readUTF8(C,0,C.length)}A.tabs[d][x]=I}else if(d=="iTXt"){A.tabs[d]==null&&(A.tabs[d]={}),c=0,u=f,c=g.nextZero(r,u),x=g.readASCII(r,u,c-u);const s=r[u=c+1];var I;r[u+1],u+=2,c=g.nextZero(r,u),g.readASCII(r,u,c-u),u=c+1,c=g.nextZero(r,u),g.readUTF8(r,u,c-u),S=_-((u=c+1)-f),s==0?I=g.readUTF8(r,u,S):(C=a(r.slice(u,u+S)),I=g.readUTF8(C,0,C.length)),A.tabs[d][x]=I}else if(d=="PLTE")A.tabs[d]=g.readBytes(r,f,_);else if(d=="hIST"){const s=A.tabs.PLTE.length/3;for(A.tabs[d]=[],T=0;T<s;T++)A.tabs[d].push(v(r,f+2*T))}else if(d=="tRNS")A.ctype==3?A.tabs[d]=g.readBytes(r,f,_):A.ctype==0?A.tabs[d]=v(r,f):A.ctype==2&&(A.tabs[d]=[v(r,f),v(r,f+2),v(r,f+4)]);else if(d=="gAMA")A.tabs[d]=g.readUint(r,f)/1e5;else if(d=="sRGB")A.tabs[d]=r[f];else if(d=="bKGD")A.ctype==0||A.ctype==4?A.tabs[d]=[v(r,f)]:A.ctype==2||A.ctype==6?A.tabs[d]=[v(r,f),v(r,f+2),v(r,f+4)]:A.ctype==3&&(A.tabs[d]=r[f]);else if(d=="IEND")break;f+=_,g.readUint(r,f),f+=4}var b;return D!=0&&((b=A.frames[A.frames.length-1]).data=R(A,U.slice(0,D),b.rect.width,b.rect.height)),A.data=R(A,j,A.width,A.height),delete A.compress,delete A.interlace,delete A.filter,A},toRGBA8:function(i){const r=i.width,f=i.height;if(i.tabs.acTL==null)return[w(i.data,r,f,i).buffer];const g=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const v=r*f*4,E=new Uint8Array(v),A=new Uint8Array(v),j=new Uint8Array(v);for(let P=0;P<i.frames.length;P++){const D=i.frames[P],p=D.rect.x,T=D.rect.y,u=D.rect.width,c=D.rect.height,x=w(D.data,u,c,i);if(P!=0)for(var U=0;U<v;U++)j[U]=E[U];if(D.blend==0?m(x,u,c,E,r,f,p,T,0):D.blend==1&&m(x,u,c,E,r,f,p,T,1),g.push(E.buffer.slice(0)),D.dispose!=0){if(D.dispose==1)m(A,u,c,E,r,f,p,T,0);else if(D.dispose==2)for(U=0;U<v;U++)E[U]=j[U]}}return g},_paeth:o,_copyTile:m,_bin:y}})();(function(){const{_copyTile:y}=me,{_bin:w}=me,R=me._paeth;var a={table:(function(){const u=new Uint32Array(256);for(let c=0;c<256;c++){let x=c;for(let S=0;S<8;S++)1&x?x=3988292384^x>>>1:x>>>=1;u[c]=x}return u})(),update(u,c,x,S){for(let C=0;C<S;C++)u=a.table[255&(u^c[x+C])]^u>>>8;return u},crc:(u,c,x)=>4294967295^a.update(4294967295,u,c,x)};function e(u,c,x,S){c[x]+=u[0]*S>>4,c[x+1]+=u[1]*S>>4,c[x+2]+=u[2]*S>>4,c[x+3]+=u[3]*S>>4}function t(u){return Math.max(0,Math.min(255,u))}function l(u,c){const x=u[0]-c[0],S=u[1]-c[1],C=u[2]-c[2],I=u[3]-c[3];return x*x+S*S+C*C+I*I}function o(u,c,x,S,C,I,b){b==null&&(b=1);const _=S.length,d=[];for(var s=0;s<_;s++){const M=S[s];d.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(s=0;s<_;s++){let M=4294967295;for(var N=0,O=0;O<_;O++){var L=l(d[s],d[O]);O!=s&&L<M&&(M=L,N=O)}}const H=new Uint32Array(C.buffer),z=new Int16Array(c*x*4),k=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(s=0;s<k.length;s++)k[s]=255*((k[s]+.5)/16-.5);for(let M=0;M<x;M++)for(let $=0;$<c;$++){var G;s=4*(M*c+$),b!=2?G=[t(u[s]+z[s]),t(u[s+1]+z[s+1]),t(u[s+2]+z[s+2]),t(u[s+3]+z[s+3])]:(L=k[4*(3&M)+(3&$)],G=[t(u[s]+L),t(u[s+1]+L),t(u[s+2]+L),t(u[s+3]+L)]),N=0;let X=16777215;for(O=0;O<_;O++){const Q=l(G,d[O]);Q<X&&(X=Q,N=O)}const B=d[N],V=[G[0]-B[0],G[1]-B[1],G[2]-B[2],G[3]-B[3]];b==1&&($!=c-1&&e(V,z,s+4,7),M!=x-1&&($!=0&&e(V,z,s+4*c-4,3),e(V,z,s+4*c,5),$!=c-1&&e(V,z,s+4*c+4,1))),I[s>>2]=N,H[s>>2]=S[N]}}function h(u,c,x,S,C){C==null&&(C={});const{crc:I}=a,b=w.writeUint,_=w.writeUshort,d=w.writeASCII;let s=8;const N=u.frames.length>1;let O,L=!1,H=33+(N?20:0);if(C.sRGB!=null&&(H+=13),C.pHYs!=null&&(H+=21),C.iCCP!=null&&(O=pako.deflate(C.iCCP),H+=21+O.length+4),u.ctype==3){for(var z=u.plte.length,k=0;k<z;k++)u.plte[k]>>>24!=255&&(L=!0);H+=8+3*z+4+(L?8+1*z+4:0)}for(var G=0;G<u.frames.length;G++)N&&(H+=38),H+=(B=u.frames[G]).cimg.length+12,G!=0&&(H+=4);H+=12;const M=new Uint8Array(H),$=[137,80,78,71,13,10,26,10];for(k=0;k<8;k++)M[k]=$[k];if(b(M,s,13),s+=4,d(M,s,"IHDR"),s+=4,b(M,s,c),s+=4,b(M,s,x),s+=4,M[s]=u.depth,s++,M[s]=u.ctype,s++,M[s]=0,s++,M[s]=0,s++,M[s]=0,s++,b(M,s,I(M,s-17,17)),s+=4,C.sRGB!=null&&(b(M,s,1),s+=4,d(M,s,"sRGB"),s+=4,M[s]=C.sRGB,s++,b(M,s,I(M,s-5,5)),s+=4),C.iCCP!=null){const V=13+O.length;b(M,s,V),s+=4,d(M,s,"iCCP"),s+=4,d(M,s,"ICC profile"),s+=11,s+=2,M.set(O,s),s+=O.length,b(M,s,I(M,s-(V+4),V+4)),s+=4}if(C.pHYs!=null&&(b(M,s,9),s+=4,d(M,s,"pHYs"),s+=4,b(M,s,C.pHYs[0]),s+=4,b(M,s,C.pHYs[1]),s+=4,M[s]=C.pHYs[2],s++,b(M,s,I(M,s-13,13)),s+=4),N&&(b(M,s,8),s+=4,d(M,s,"acTL"),s+=4,b(M,s,u.frames.length),s+=4,b(M,s,C.loop!=null?C.loop:0),s+=4,b(M,s,I(M,s-12,12)),s+=4),u.ctype==3){for(b(M,s,3*(z=u.plte.length)),s+=4,d(M,s,"PLTE"),s+=4,k=0;k<z;k++){const V=3*k,Q=u.plte[k],Y=255&Q,te=Q>>>8&255,Ce=Q>>>16&255;M[s+V+0]=Y,M[s+V+1]=te,M[s+V+2]=Ce}if(s+=3*z,b(M,s,I(M,s-3*z-4,3*z+4)),s+=4,L){for(b(M,s,z),s+=4,d(M,s,"tRNS"),s+=4,k=0;k<z;k++)M[s+k]=u.plte[k]>>>24&255;s+=z,b(M,s,I(M,s-z-4,z+4)),s+=4}}let X=0;for(G=0;G<u.frames.length;G++){var B=u.frames[G];N&&(b(M,s,26),s+=4,d(M,s,"fcTL"),s+=4,b(M,s,X++),s+=4,b(M,s,B.rect.width),s+=4,b(M,s,B.rect.height),s+=4,b(M,s,B.rect.x),s+=4,b(M,s,B.rect.y),s+=4,_(M,s,S[G]),s+=2,_(M,s,1e3),s+=2,M[s]=B.dispose,s++,M[s]=B.blend,s++,b(M,s,I(M,s-30,30)),s+=4);const V=B.cimg;b(M,s,(z=V.length)+(G==0?0:4)),s+=4;const Q=s;d(M,s,G==0?"IDAT":"fdAT"),s+=4,G!=0&&(b(M,s,X++),s+=4),M.set(V,s),s+=z,b(M,s,I(M,Q,s-Q)),s+=4}return b(M,s,0),s+=4,d(M,s,"IEND"),s+=4,b(M,s,I(M,s-4,4)),s+=4,M.buffer}function m(u,c,x){for(let S=0;S<u.frames.length;S++){const C=u.frames[S];C.rect.width;const I=C.rect.height,b=new Uint8Array(I*C.bpl+I);C.cimg=f(C.img,I,C.bpp,C.bpl,b,c,x)}}function n(u,c,x,S,C){const I=C[0],b=C[1],_=C[2],d=C[3],s=C[4],N=C[5];let O=6,L=8,H=255;for(var z=0;z<u.length;z++){const re=new Uint8Array(u[z]);for(var k=re.length,G=0;G<k;G+=4)H&=re[G+3]}const M=H!=255,$=(function(Z,W,ne,se,J,ce){const ee=[];for(var q=0;q<Z.length;q++){const le=new Uint8Array(Z[q]),he=new Uint32Array(le.buffer);var ue;let de=0,ve=0,pe=W,Ee=ne,$e=se?1:0;if(q!=0){const At=ce||se||q==1||ee[q-2].dispose!=0?1:2;let Ve=0,Xe=1e9;for(let Te=0;Te<At;Te++){var be=new Uint8Array(Z[q-1-Te]);const vt=new Uint32Array(Z[q-1-Te]);let we=W,xe=ne,Me=-1,Ne=-1;for(let Ie=0;Ie<ne;Ie++)for(let Re=0;Re<W;Re++)he[ie=Ie*W+Re]!=vt[ie]&&(Re<we&&(we=Re),Re>Me&&(Me=Re),Ie<xe&&(xe=Ie),Ie>Ne&&(Ne=Ie));Me==-1&&(we=xe=Me=Ne=0),J&&((1&we)==1&&we--,(1&xe)==1&&xe--);const Ze=(Me-we+1)*(Ne-xe+1);Ze<Xe&&(Xe=Ze,Ve=Te,de=we,ve=xe,pe=Me-we+1,Ee=Ne-xe+1)}be=new Uint8Array(Z[q-1-Ve]),Ve==1&&(ee[q-1].dispose=2),ue=new Uint8Array(pe*Ee*4),y(be,W,ne,ue,pe,Ee,-de,-ve,0),$e=y(le,W,ne,ue,pe,Ee,-de,-ve,3)?1:0,$e==1?r(le,W,ne,ue,{x:de,y:ve,width:pe,height:Ee}):y(le,W,ne,ue,pe,Ee,-de,-ve,0)}else ue=le.slice(0);ee.push({rect:{x:de,y:ve,width:pe,height:Ee},img:ue,blend:$e,dispose:0})}if(se)for(q=0;q<ee.length;q++){if((Se=ee[q]).blend==1)continue;const le=Se.rect,he=ee[q-1].rect,de=Math.min(le.x,he.x),ve=Math.min(le.y,he.y),pe={x:de,y:ve,width:Math.max(le.x+le.width,he.x+he.width)-de,height:Math.max(le.y+le.height,he.y+he.height)-ve};ee[q-1].dispose=1,q-1!=0&&i(Z,W,ne,ee,q-1,pe,J),i(Z,W,ne,ee,q,pe,J)}let De=0;if(Z.length!=1)for(var ie=0;ie<ee.length;ie++){var Se;De+=(Se=ee[ie]).rect.width*Se.rect.height}return ee})(u,c,x,I,b,_),X={},B=[],V=[];if(S!=0){const re=[];for(G=0;G<$.length;G++)re.push($[G].img.buffer);const Z=(function(J){let ce=0;for(var ee=0;ee<J.length;ee++)ce+=J[ee].byteLength;const q=new Uint8Array(ce);let ue=0;for(ee=0;ee<J.length;ee++){const be=new Uint8Array(J[ee]),De=be.length;for(let ie=0;ie<De;ie+=4){let Se=be[ie],le=be[ie+1],he=be[ie+2];const de=be[ie+3];de==0&&(Se=le=he=0),q[ue+ie]=Se,q[ue+ie+1]=le,q[ue+ie+2]=he,q[ue+ie+3]=de}ue+=De}return q.buffer})(re),W=v(Z,S);for(G=0;G<W.plte.length;G++)B.push(W.plte[G].est.rgba);let ne=0;for(G=0;G<$.length;G++){const se=(Y=$[G]).img.length;var Q=new Uint8Array(W.inds.buffer,ne>>2,se>>2);V.push(Q);const J=new Uint8Array(W.abuf,ne,se);N&&o(Y.img,Y.rect.width,Y.rect.height,B,J,Q),Y.img.set(J),ne+=se}}else for(z=0;z<$.length;z++){var Y=$[z];const re=new Uint32Array(Y.img.buffer);var te=Y.rect.width;for(k=re.length,Q=new Uint8Array(k),V.push(Q),G=0;G<k;G++){const Z=re[G];if(G!=0&&Z==re[G-1])Q[G]=Q[G-1];else if(G>te&&Z==re[G-te])Q[G]=Q[G-te];else{let W=X[Z];if(W==null&&(X[Z]=W=B.length,B.push(Z),B.length>=300))break;Q[G]=W}}}const Ce=B.length;for(Ce<=256&&s==0&&(L=Ce<=2?1:Ce<=4?2:Ce<=16?4:8,L=Math.max(L,d)),z=0;z<$.length;z++){(Y=$[z]).rect.x,Y.rect.y,te=Y.rect.width;const re=Y.rect.height;let Z=Y.img;new Uint32Array(Z.buffer);let W=4*te,ne=4;if(Ce<=256&&s==0){W=Math.ceil(L*te/8);var ge=new Uint8Array(W*re);const se=V[z];for(let J=0;J<re;J++){G=J*W;const ce=J*te;if(L==8)for(var K=0;K<te;K++)ge[G+K]=se[ce+K];else if(L==4)for(K=0;K<te;K++)ge[G+(K>>1)]|=se[ce+K]<<4-4*(1&K);else if(L==2)for(K=0;K<te;K++)ge[G+(K>>2)]|=se[ce+K]<<6-2*(3&K);else if(L==1)for(K=0;K<te;K++)ge[G+(K>>3)]|=se[ce+K]<<7-1*(7&K)}Z=ge,O=3,ne=1}else if(M==0&&$.length==1){ge=new Uint8Array(te*re*3);const se=te*re;for(G=0;G<se;G++){const J=3*G,ce=4*G;ge[J]=Z[ce],ge[J+1]=Z[ce+1],ge[J+2]=Z[ce+2]}Z=ge,O=2,ne=3,W=3*te}Y.img=Z,Y.bpl=W,Y.bpp=ne}return{ctype:O,depth:L,plte:B,frames:$}}function i(u,c,x,S,C,I,b){const _=Uint8Array,d=Uint32Array,s=new _(u[C-1]),N=new d(u[C-1]),O=C+1<u.length?new _(u[C+1]):null,L=new _(u[C]),H=new d(L.buffer);let z=c,k=x,G=-1,M=-1;for(let X=0;X<I.height;X++)for(let B=0;B<I.width;B++){const V=I.x+B,Q=I.y+X,Y=Q*c+V,te=H[Y];te==0||S[C-1].dispose==0&&N[Y]==te&&(O==null||O[4*Y+3]!=0)||(V<z&&(z=V),V>G&&(G=V),Q<k&&(k=Q),Q>M&&(M=Q))}G==-1&&(z=k=G=M=0),b&&((1&z)==1&&z--,(1&k)==1&&k--),I={x:z,y:k,width:G-z+1,height:M-k+1};const $=S[C];$.rect=I,$.blend=1,$.img=new Uint8Array(I.width*I.height*4),S[C-1].dispose==0?(y(s,c,x,$.img,I.width,I.height,-I.x,-I.y,0),r(L,c,x,$.img,I)):y(L,c,x,$.img,I.width,I.height,-I.x,-I.y,0)}function r(u,c,x,S,C){y(u,c,x,S,C.width,C.height,-C.x,-C.y,2)}function f(u,c,x,S,C,I,b){const _=[];let d,s=[0,1,2,3,4];I!=-1?s=[I]:(c*S>5e5||x==1)&&(s=[0]),b&&(d={level:0});const N=kt;for(var O=0;O<s.length;O++){for(let z=0;z<c;z++)g(C,u,z,S,x,s[O]);_.push(N.deflate(C,d))}let L,H=1e9;for(O=0;O<_.length;O++)_[O].length<H&&(L=O,H=_[O].length);return _[L]}function g(u,c,x,S,C,I){const b=x*S;let _=b+x;if(u[_]=I,_++,I==0)if(S<500)for(var d=0;d<S;d++)u[_+d]=c[b+d];else u.set(new Uint8Array(c.buffer,b,S),_);else if(I==1){for(d=0;d<C;d++)u[_+d]=c[b+d];for(d=C;d<S;d++)u[_+d]=c[b+d]-c[b+d-C]+256&255}else if(x==0){for(d=0;d<C;d++)u[_+d]=c[b+d];if(I==2)for(d=C;d<S;d++)u[_+d]=c[b+d];if(I==3)for(d=C;d<S;d++)u[_+d]=c[b+d]-(c[b+d-C]>>1)+256&255;if(I==4)for(d=C;d<S;d++)u[_+d]=c[b+d]-R(c[b+d-C],0,0)+256&255}else{if(I==2)for(d=0;d<S;d++)u[_+d]=c[b+d]+256-c[b+d-S]&255;if(I==3){for(d=0;d<C;d++)u[_+d]=c[b+d]+256-(c[b+d-S]>>1)&255;for(d=C;d<S;d++)u[_+d]=c[b+d]+256-(c[b+d-S]+c[b+d-C]>>1)&255}if(I==4){for(d=0;d<C;d++)u[_+d]=c[b+d]+256-R(0,c[b+d-S],0)&255;for(d=C;d<S;d++)u[_+d]=c[b+d]+256-R(c[b+d-C],c[b+d-S],c[b+d-C-S])&255}}}function v(u,c){const x=new Uint8Array(u),S=x.slice(0),C=new Uint32Array(S.buffer),I=E(S,c),b=I[0],_=I[1],d=x.length,s=new Uint8Array(d>>2);let N;if(x.length<2e7)for(var O=0;O<d;O+=4)N=A(b,L=x[O]*(1/255),H=x[O+1]*(1/255),z=x[O+2]*(1/255),k=x[O+3]*(1/255)),s[O>>2]=N.ind,C[O>>2]=N.est.rgba;else for(O=0;O<d;O+=4){var L=x[O]*.00392156862745098,H=x[O+1]*(1/255),z=x[O+2]*(1/255),k=x[O+3]*(1/255);for(N=b;N.left;)N=j(N.est,L,H,z,k)<=0?N.left:N.right;s[O>>2]=N.ind,C[O>>2]=N.est.rgba}return{abuf:S.buffer,inds:s,plte:_}}function E(u,c,x){x==null&&(x=1e-4);const S=new Uint32Array(u.buffer),C={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};C.bst=D(u,C.i0,C.i1),C.est=p(C.bst);const I=[C];for(;I.length<c;){let _=0,d=0;for(var b=0;b<I.length;b++)I[b].est.L>_&&(_=I[b].est.L,d=b);if(_<x)break;const s=I[d],N=U(u,S,s.i0,s.i1,s.est.e,s.est.eMq255);if(s.i0>=N||s.i1<=N){s.est.L=0;continue}const O={i0:s.i0,i1:N,bst:null,est:null,tdst:0,left:null,right:null};O.bst=D(u,O.i0,O.i1),O.est=p(O.bst);const L={i0:N,i1:s.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:s.bst.N-O.bst.N},b=0;b<16;b++)L.bst.R[b]=s.bst.R[b]-O.bst.R[b];for(b=0;b<4;b++)L.bst.m[b]=s.bst.m[b]-O.bst.m[b];L.est=p(L.bst),s.left=O,s.right=L,I[d]=O,I.push(L)}for(I.sort(((_,d)=>d.bst.N-_.bst.N)),b=0;b<I.length;b++)I[b].ind=b;return[C,I]}function A(u,c,x,S,C){if(u.left==null)return u.tdst=(function(O,L,H,z,k){const G=L-O[0],M=H-O[1],$=z-O[2],X=k-O[3];return G*G+M*M+$*$+X*X})(u.est.q,c,x,S,C),u;const I=j(u.est,c,x,S,C);let b=u.left,_=u.right;I>0&&(b=u.right,_=u.left);const d=A(b,c,x,S,C);if(d.tdst<=I*I)return d;const s=A(_,c,x,S,C);return s.tdst<d.tdst?s:d}function j(u,c,x,S,C){const{e:I}=u;return I[0]*c+I[1]*x+I[2]*S+I[3]*C-u.eMq}function U(u,c,x,S,C,I){for(S-=4;x<S;){for(;P(u,x,C)<=I;)x+=4;for(;P(u,S,C)>I;)S-=4;if(x>=S)break;const b=c[x>>2];c[x>>2]=c[S>>2],c[S>>2]=b,x+=4,S-=4}for(;P(u,x,C)>I;)x-=4;return x+4}function P(u,c,x){return u[c]*x[0]+u[c+1]*x[1]+u[c+2]*x[2]+u[c+3]*x[3]}function D(u,c,x){const S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C=[0,0,0,0],I=x-c>>2;for(let b=c;b<x;b+=4){const _=u[b]*.00392156862745098,d=u[b+1]*(1/255),s=u[b+2]*(1/255),N=u[b+3]*(1/255);C[0]+=_,C[1]+=d,C[2]+=s,C[3]+=N,S[0]+=_*_,S[1]+=_*d,S[2]+=_*s,S[3]+=_*N,S[5]+=d*d,S[6]+=d*s,S[7]+=d*N,S[10]+=s*s,S[11]+=s*N,S[15]+=N*N}return S[4]=S[1],S[8]=S[2],S[9]=S[6],S[12]=S[3],S[13]=S[7],S[14]=S[11],{R:S,m:C,N:I}}function p(u){const{R:c}=u,{m:x}=u,{N:S}=u,C=x[0],I=x[1],b=x[2],_=x[3],d=S==0?0:1/S,s=[c[0]-C*C*d,c[1]-C*I*d,c[2]-C*b*d,c[3]-C*_*d,c[4]-I*C*d,c[5]-I*I*d,c[6]-I*b*d,c[7]-I*_*d,c[8]-b*C*d,c[9]-b*I*d,c[10]-b*b*d,c[11]-b*_*d,c[12]-_*C*d,c[13]-_*I*d,c[14]-_*b*d,c[15]-_*_*d],N=s,O=T;let L=[Math.random(),Math.random(),Math.random(),Math.random()],H=0,z=0;if(S!=0)for(let G=0;G<16&&(L=O.multVec(N,L),z=Math.sqrt(O.dot(L,L)),L=O.sml(1/z,L),!(G!=0&&Math.abs(z-H)<1e-9));G++)H=z;const k=[C*d,I*d,b*d,_*d];return{Cov:s,q:k,e:L,L:H,eMq255:O.dot(O.sml(255,k),L),eMq:O.dot(L,k),rgba:(Math.round(255*k[3])<<24|Math.round(255*k[2])<<16|Math.round(255*k[1])<<8|Math.round(255*k[0])<<0)>>>0}}var T={multVec:(u,c)=>[u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],u[4]*c[0]+u[5]*c[1]+u[6]*c[2]+u[7]*c[3],u[8]*c[0]+u[9]*c[1]+u[10]*c[2]+u[11]*c[3],u[12]*c[0]+u[13]*c[1]+u[14]*c[2]+u[15]*c[3]],dot:(u,c)=>u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],sml:(u,c)=>[u*c[0],u*c[1],u*c[2],u*c[3]]};me.encode=function(c,x,S,C,I,b,_){C==null&&(C=0),_==null&&(_=!1);const d=n(c,x,S,C,[!1,!1,!1,0,_,!1]);return m(d,-1),h(d,x,S,I,b)},me.encodeLL=function(c,x,S,C,I,b,_,d){const s={ctype:0+(C==1?0:2)+(I==0?0:4),depth:b,frames:[]},N=(C+I)*b,O=N*x;for(let L=0;L<c.length;L++)s.frames.push({rect:{x:0,y:0,width:x,height:S},img:new Uint8Array(c[L]),blend:0,dispose:1,bpp:Math.ceil(N/8),bpl:Math.ceil(O/8)});return m(s,0,!0),h(s,x,S,_,d)},me.encode.compress=n,me.encode.dither=o,me.quantize=v,me.quantize.getKDtree=E,me.quantize.getNearest=A})();const st={toArrayBuffer(y,w){const R=y.width,a=y.height,e=R<<2,t=y.getContext("2d").getImageData(0,0,R,a),l=new Uint32Array(t.data.buffer),o=(32*R+31)/32<<2,h=o*a,m=122+h,n=new ArrayBuffer(m),i=new DataView(n),r=1<<20;let f,g,v,E,A=r,j=0,U=0,P=0;function D(u){i.setUint16(U,u,!0),U+=2}function p(u){i.setUint32(U,u,!0),U+=4}function T(u){U+=u}D(19778),p(m),T(4),p(122),p(108),p(R),p(-a>>>0),D(1),D(32),p(3),p(h),p(2835),p(2835),T(8),p(16711680),p(65280),p(255),p(4278190080),p(1466527264),(function u(){for(;j<a&&A>0;){for(E=122+j*o,f=0;f<e;)A--,g=l[P++],v=g>>>24,i.setUint32(E+f,g<<8|v),f+=4;j++}P<l.length?(A=r,setTimeout(u,st._dly)):w(n)})()},toBlob(y,w){this.toArrayBuffer(y,(R=>{w(new Blob([R],{type:"image/bmp"}))}))},_dly:9};var fe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Ht={[fe.CHROME]:16384,[fe.FIREFOX]:11180,[fe.DESKTOP_SAFARI]:16384,[fe.IE]:8192,[fe.IOS]:4096,[fe.ETC]:8192};const We=typeof window<"u",lt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ge=We&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),$t=(We||lt)&&(Ge&&Ge.getOriginalSymbol(window,"File")||typeof File<"u"&&File),ft=(We||lt)&&(Ge&&Ge.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function qe(y,w,R=Date.now()){return new Promise((a=>{const e=y.split(","),t=e[0].match(/:(.*?);/)[1],l=globalThis.atob(e[1]);let o=l.length;const h=new Uint8Array(o);for(;o--;)h[o]=l.charCodeAt(o);const m=new Blob([h],{type:t});m.name=w,m.lastModified=R,a(m)}))}function ct(y){return new Promise(((w,R)=>{const a=new ft;a.onload=()=>w(a.result),a.onerror=e=>R(e),a.readAsDataURL(y)}))}function ut(y){return new Promise(((w,R)=>{const a=new Image;a.onload=()=>w(a),a.onerror=e=>R(e),a.src=y}))}function _e(){if(_e.cachedResult!==void 0)return _e.cachedResult;let y=fe.ETC;const{userAgent:w}=navigator;return/Chrom(e|ium)/i.test(w)?y=fe.CHROME:/iP(ad|od|hone)/i.test(w)&&/WebKit/i.test(w)?y=fe.IOS:/Safari/i.test(w)?y=fe.DESKTOP_SAFARI:/Firefox/i.test(w)?y=fe.FIREFOX:(/MSIE/i.test(w)||document.documentMode)&&(y=fe.IE),_e.cachedResult=y,_e.cachedResult}function dt(y,w){const R=_e(),a=Ht[R];let e=y,t=w,l=e*t;const o=e>t?t/e:e/t;for(;l>a*a;){const h=(a+e)/2,m=(a+t)/2;h<m?(t=m,e=m*o):(t=h*o,e=h),l=e*t}return{width:e,height:t}}function He(y,w){let R,a;try{if(R=new OffscreenCanvas(y,w),a=R.getContext("2d"),a===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{R=document.createElement("canvas"),a=R.getContext("2d")}return R.width=y,R.height=w,[R,a]}function ht(y,w){const{width:R,height:a}=dt(y.width,y.height),[e,t]=He(R,a);return w&&/jpe?g/.test(w)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(y,0,0,e.width,e.height),e}function Fe(){return Fe.cachedResult!==void 0||(Fe.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Fe.cachedResult}function ze(y,w={}){return new Promise((function(R,a){let e,t;var l=function(){try{return t=ht(e,w.fileType||y.type),R([e,t])}catch(h){return a(h)}},o=function(h){try{var m=function(n){try{throw n}catch(i){return a(i)}};try{let n;return ct(y).then((function(i){try{return n=i,ut(n).then((function(r){try{return e=r,(function(){try{return l()}catch(f){return a(f)}})()}catch(f){return m(f)}}),m)}catch(r){return m(r)}}),m)}catch(n){m(n)}}catch(n){return a(n)}};try{if(Fe()||[fe.DESKTOP_SAFARI,fe.MOBILE_SAFARI].includes(_e()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(y).then((function(h){try{return e=h,l()}catch{return o()}}),o)}catch{o()}}))}function ke(y,w,R,a,e=1){return new Promise((function(t,l){let o;if(w==="image/png"){let m,n,i;return m=y.getContext("2d"),{data:n}=m.getImageData(0,0,y.width,y.height),i=me.encode([n.buffer],y.width,y.height,4096*e),o=new Blob([i],{type:w}),o.name=R,o.lastModified=a,h.call(this)}{let m=function(){return h.call(this)};if(w==="image/bmp")return new Promise((n=>st.toBlob(y,n))).then((function(n){try{return o=n,o.name=R,o.lastModified=a,m.call(this)}catch(i){return l(i)}}).bind(this),l);{let n=function(){return m.call(this)};if(typeof OffscreenCanvas=="function"&&y instanceof OffscreenCanvas)return y.convertToBlob({type:w,quality:e}).then((function(i){try{return o=i,o.name=R,o.lastModified=a,n.call(this)}catch(r){return l(r)}}).bind(this),l);{let i;return i=y.toDataURL(w,e),qe(i,R,a).then((function(r){try{return o=r,n.call(this)}catch(f){return l(f)}}).bind(this),l)}}}function h(){return t(o)}}))}function Ae(y){y.width=0,y.height=0}function Ue(){return new Promise((function(y,w){let R,a,e,t;return Ue.cachedResult!==void 0?y(Ue.cachedResult):qe("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(l){try{return R=l,ze(R).then((function(o){try{return a=o[1],ke(a,R.type,R.name,R.lastModified).then((function(h){try{return e=h,Ae(a),ze(e).then((function(m){try{return t=m[0],Ue.cachedResult=t.width===1&&t.height===2,y(Ue.cachedResult)}catch(n){return w(n)}}),w)}catch(m){return w(m)}}),w)}catch(h){return w(h)}}),w)}catch(o){return w(o)}}),w)}))}function mt(y){return new Promise(((w,R)=>{const a=new ft;a.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return w(-2);const l=t.byteLength;let o=2;for(;o<l;){if(t.getUint16(o+2,!1)<=8)return w(-1);const h=t.getUint16(o,!1);if(o+=2,h==65505){if(t.getUint32(o+=2,!1)!=1165519206)return w(-1);const m=t.getUint16(o+=6,!1)==18761;o+=t.getUint32(o+4,m);const n=t.getUint16(o,m);o+=2;for(let i=0;i<n;i++)if(t.getUint16(o+12*i,m)==274)return w(t.getUint16(o+12*i+8,m))}else{if((65280&h)!=65280)break;o+=t.getUint16(o,!1)}}return w(-1)},a.onerror=e=>R(e),a.readAsArrayBuffer(y)}))}function gt(y,w){const{width:R}=y,{height:a}=y,{maxWidthOrHeight:e}=w;let t,l=y;return isFinite(e)&&(R>e||a>e)&&([l,t]=He(R,a),R>a?(l.width=e,l.height=a/R*e):(l.width=R/a*e,l.height=e),t.drawImage(y,0,0,l.width,l.height),Ae(y)),l}function pt(y,w){const{width:R}=y,{height:a}=y,[e,t]=He(R,a);switch(w>4&&w<9?(e.width=a,e.height=R):(e.width=R,e.height=a),w){case 2:t.transform(-1,0,0,1,R,0);break;case 3:t.transform(-1,0,0,-1,R,a);break;case 4:t.transform(1,0,0,-1,0,a);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,a,0);break;case 7:t.transform(0,-1,-1,0,a,R);break;case 8:t.transform(0,-1,1,0,0,R)}return t.drawImage(y,0,0,R,a),Ae(y),e}function nt(y,w,R=0){return new Promise((function(a,e){let t,l,o,h,m,n,i,r,f,g,v,E,A,j,U,P,D,p,T,u;function c(S=5){if(w.signal&&w.signal.aborted)throw w.signal.reason;t+=S,w.onProgress(Math.min(t,100))}function x(S){if(w.signal&&w.signal.aborted)throw w.signal.reason;t=Math.min(Math.max(S,t),100),w.onProgress(t)}return t=R,l=w.maxIteration||10,o=1024*w.maxSizeMB*1024,c(),ze(y,w).then((function(S){try{return[,h]=S,c(),m=gt(h,w),c(),new Promise((function(C,I){var b;if(!(b=w.exifOrientation))return mt(y).then((function(d){try{return b=d,_.call(this)}catch(s){return I(s)}}).bind(this),I);function _(){return C(b)}return _.call(this)})).then((function(C){try{return n=C,c(),Ue().then((function(I){try{return i=I?m:pt(m,n),c(),r=w.initialQuality||1,f=w.fileType||y.type,ke(i,f,y.name,y.lastModified,r).then((function(b){try{{let d=function(){if(l--&&(U>o||U>A)){let N,O;return N=u?.95*T.width:T.width,O=u?.95*T.height:T.height,[D,p]=He(N,O),p.drawImage(T,0,0,N,O),r*=f==="image/png"?.85:.95,ke(D,f,y.name,y.lastModified,r).then((function(L){try{return P=L,Ae(T),T=D,U=P.size,x(Math.min(99,Math.floor((j-U)/(j-o)*100))),d}catch(H){return e(H)}}),e)}return[1]},s=function(){return Ae(T),Ae(D),Ae(m),Ae(i),Ae(h),x(100),a(P)};if(g=b,c(),v=g.size>o,E=g.size>y.size,!v&&!E)return x(100),a(g);var _;return A=y.size,j=g.size,U=j,T=i,u=!w.alwaysKeepResolution&&v,(_=(function(N){for(;N;){if(N.then)return void N.then(_,e);try{if(N.pop){if(N.length)return N.pop()?s.call(this):N;N=d}else N=N.call(this)}catch(O){return e(O)}}}).bind(this))(d)}}catch(d){return e(d)}}).bind(this),e)}catch(b){return e(b)}}).bind(this),e)}catch(I){return e(I)}}).bind(this),e)}catch(C){return e(C)}}).bind(this),e)}))}const Vt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Be;function Bt(y,w){return new Promise(((R,a)=>{Be||(Be=(function(l){const o=[];return o.push(l),URL.createObjectURL(new Blob(o))})(Vt));const e=new Worker(Be);e.addEventListener("message",(function(l){if(w.signal&&w.signal.aborted)e.terminate();else if(l.data.progress===void 0){if(l.data.error)return a(new Error(l.data.error)),void e.terminate();R(l.data.file),e.terminate()}else w.onProgress(l.data.progress)})),e.addEventListener("error",a),w.signal&&w.signal.addEventListener("abort",(()=>{a(w.signal.reason),e.terminate()})),e.postMessage({file:y,imageCompressionLibUrl:w.libURL,options:{...w,onProgress:void 0,signal:void 0}})}))}function oe(y,w){return new Promise((function(R,a){let e,t,l,o,h,m;if(e={...w},l=0,{onProgress:o}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,h=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=f=>{l=f,typeof o=="function"&&o(l)},!(y instanceof Blob||y instanceof $t))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(y.type))return a(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!h||typeof Worker!="function"||m)return nt(y,e).then((function(f){try{return t=f,r.call(this)}catch(g){return a(g)}}).bind(this),a);var n=(function(){try{return r.call(this)}catch(f){return a(f)}}).bind(this),i=function(f){try{return nt(y,e).then((function(g){try{return t=g,n()}catch(v){return a(v)}}),a)}catch(g){return a(g)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Bt(y,e).then((function(f){try{return t=f,n()}catch{return i()}}),i)}catch{i()}function r(){try{t.name=y.name,t.lastModified=y.lastModified}catch{}try{e.preserveExif&&y.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===y.type)&&(t=at(y,t))}catch{}return R(t)}}))}oe.getDataUrlFromFile=ct,oe.getFilefromDataUrl=qe,oe.loadImage=ut,oe.drawImageInCanvas=ht,oe.drawFileInCanvas=ze,oe.canvasToFile=ke,oe.getExifOrientation=mt,oe.handleMaxWidthOrHeight=gt,oe.followExifOrientation=pt,oe.cleanupCanvasMemory=Ae,oe.isAutoOrientationInBrowser=Ue,oe.approximateBelowMaximumCanvasSizeOfBrowser=dt,oe.copyExifWithoutOrientation=at,oe.getBrowserName=_e,oe.version="2.0.2";function Qt({campo:y,search:w,onChange:R}){const a="https://imgweb.saibweb.com.br/entregas/imagens/37426786000100/nao-se-aplica-eca82f.png",e="nao-se-aplica-eca82f",[t,l]=ae.useState(null),[o,h]=ae.useState(null),{showLoading:m,hideLoading:n}=bt();ae.useEffect(()=>{(async()=>{if(w.RESPOSTA&&w.RESPOSTA!=="limpar")if(w.RESPOSTA===e)l(a),h(null);else{const v=await xt(w.RESPOSTA);v?(l(v),h(w.RESPOSTA)):(l(w.URL),h(null))}})()},[]);async function i(g){try{m("Otimizando a imagem");const v={maxSizeMB:.21,maxWidthOrHeight:1920,useWebWorker:!0,fileType:g.type},E=await oe(g,v);return new Promise((A,j)=>{const U=new FileReader;U.onloadend=()=>{A(U.result)},U.onerror=()=>{j(new Error("Erro ao ler o arquivo comprimido"))},U.readAsDataURL(E)})}catch{throw new Error("Erro ao comprimir a imagem")}finally{n()}}const r=async g=>{const v=g.target.files?.[0];if(v&&v.type.startsWith("image/")){const E=new FileReader;E.onloadend=()=>{l(E.result)},E.readAsDataURL(v);try{const A=await i(v),j=`${v.name}_${Date.now()}`;await Ke(j,A,v.name),l(A),h(j),R(j)}catch(A){console.error("Erro ao comprimir imagem:",A);const j=`${v.name}_${Date.now()}`,U=await new Promise(P=>{const D=new FileReader;D.onloadend=()=>{P(D.result)},D.readAsDataURL(v)});await Ke(j,U,v.name),h(j),R(j)}}else{Pe("Selecione uma imagem válida");return}},f=()=>{l(a),w.RESPOSTA=e,R(e)};return F.jsx("div",{className:"space-y-3",children:F.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t?F.jsxs("div",{className:"flex flex-col gap-3 w-full items-center justify-center",children:[F.jsx("div",{className:"relative w-full max-w-xs",children:F.jsx("img",{src:t,alt:"Preview",className:"w-full h-52 object-fit rounded-md border-2 border-zinc-200"})}),F.jsxs("button",{onClick:async()=>{o&&await wt(o),l(null),h(null),R("");const g=document.getElementById(`campo-${y.GAC_ID}`);g&&(g.value="")},className:"bg-red-600 text-white py-2 px-4 rounded-full flex items-center justify-center gap-2",children:[F.jsx(Qe,{className:"h-4 w-4"}),"Remover foto"]})]}):F.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[F.jsxs("label",{htmlFor:`campo-${y.GAC_ID}`,className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-zinc-300 rounded-lg cursor-pointer hover:border-primary hover:bg-zinc-50 transition-all",children:[F.jsx(_t,{className:"h-12 w-12 text-zinc-600 mb-2"}),F.jsx("span",{className:"text-sm text-zinc-950",children:y.GAC_DESCRICAO||"Clique para adicionar imagem"})]}),w?.GPP_FLG_ORIGATORIA===-1&&F.jsxs(Oe,{onClick:f,className:"w-full",children:[F.jsx(Qe,{size:22})," Não se aplica"]})]}),F.jsx("input",{id:`campo-${y.GAC_ID}`,type:"file",capture:y.GAC_VALOR_PADRAO==="1"?void 0:"environment",onChange:r,className:"hidden"})]})})}function Wt({campo:y,search:w,onChange:R}){const[a,e]=ae.useState(""),t=h=>{const n=h.target.value.replace(/[^\d,]/g,"");e(n)},l=h=>{if(!h)return null;const m=h.replace(/\./g,"").replace(",","."),n=parseFloat(m);return isNaN(n)?null:n};function o(){const h=l(a);if(h===null)return;const m=y.GAC_VALOR_MAXIMO,n=y.GAC_VALOR_MINIMO;if(m!=null&&h>m){e(""),Pe("Valor digitado inválido");return}if(n!=null&&h<n){e(""),Pe("Valor digitado inválido");return}R(h)}return ae.useEffect(()=>{w.RESPOSTA!==null&&w.RESPOSTA!==void 0?e(w.RESPOSTA):e("")},[w.RESPOSTA]),F.jsx("div",{className:"space-y-3",children:F.jsxs("div",{className:"relative",children:[F.jsx(it,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-zinc-400"}),F.jsx(ye,{id:`campo-${y.GAC_ID}`,type:"number",placeholder:y.GAC_DESCRICAO||"Digite um número decimal",value:a||"",inputMode:"numeric",onChange:t,onBlur:o,step:"1",className:"pl-10 h-12 text-lg font-medium border-zinc-200 focus-visible:ring-primary"})]})})}function qt({campo:y,search:w,onChange:R}){return F.jsxs("div",{className:"space-y-3",children:[F.jsx("div",{className:"relative",children:F.jsx("textarea",{id:`campo-${y.GAC_ID}`,placeholder:y.GAC_DESCRICAO||"Digite o texto",value:w.RESPOSTA||"",onChange:a=>R(a.target.value),maxLength:1e3,rows:4,className:"w-full px-3 py-2 text-base font-medium border-2 border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary resize-none"})}),w.RESPOSTA&&F.jsxs("p",{className:"text-xs text-zinc-500 text-right",children:[w.RESPOSTA.length,"/1000 caracteres"]})]})}function Xt({campo:y,search:w,onChange:R}){return F.jsxs("div",{className:"space-y-3",children:[F.jsx("div",{className:"relative",children:F.jsx(ye,{id:`campo-${y.GAC_ID}`,placeholder:y.GAC_DESCRICAO||"Digite o texto",value:w.RESPOSTA||"",onChange:a=>R(a.target.value),maxLength:255,className:"h-12 text-lg font-medium border-zinc-200 focus-visible:ring-primary"})}),w.RESPOSTA&&F.jsxs("p",{className:"text-xs text-zinc-500 text-right",children:[w.RESPOSTA.length,"/255 caracteres"]})]})}const cn=yt.memo(function({typeField:w,data:R,search:a,onChange:e}){function t(o){const h={...a};if((h.GPP_TIPO_CAMPO===3||h.GPP_TIPO_CAMPO===9)&&R.GAC_VALOR_MAXIMO!==null&&R.GAC_VALOR_MINIMO!==null)if(o<=R.GAC_VALOR_MAXIMO&&o>=R.GAC_VALOR_MINIMO)h.RESPOSTA=o;else{Pe("Valor digitado inválido");return}else{let m;o!==null&&o!==""&&(m=h?.CAMPOS?.find(n=>n.GAC_ID===o)),m?h.RESPOSTA=m.GAC_ID:h.RESPOSTA=o}e(h)}function l(o,h){const m={...a};let n=o;const i=m?.CAMPOS?.find(r=>r.GAC_DESCRICAO===o);i&&i.GAC_ID&&(n=i.GAC_ID),m.GPP_TIPO_CAMPO===13?h?m.RESPOSTA=n:m.RESPOSTA=[]:h?(Array.isArray(m.RESPOSTA)||(m.RESPOSTA!=null?m.RESPOSTA=[m.RESPOSTA]:m.RESPOSTA=[]),m.RESPOSTA=[...m.RESPOSTA,n].filter(r=>r!=null),Array.isArray(m.RESPOSTA)&&m.RESPOSTA.length===1&&(m.RESPOSTA=m.RESPOSTA[0])):m.RESPOSTA&&(Array.isArray(m.RESPOSTA)?(m.RESPOSTA=m.RESPOSTA.filter(r=>r!==n&&r!=null),Array.isArray(m.RESPOSTA)&&m.RESPOSTA.length===1&&(m.RESPOSTA=m.RESPOSTA[0])):m.RESPOSTA===n&&(m.RESPOSTA=null)),e(m)}return F.jsxs(F.Fragment,{children:[Ct(R.GAC_VALOR_MAXIMO)&&a.GPP_TIPO_CAMPO!==12&&F.jsx("div",{className:"-mt-3 flex items-center justify-center",children:F.jsxs("span",{className:"text-center text-base font-normal",children:["(Digite valores entre ",R.GAC_VALOR_MINIMO??0," e"," ",R.GAC_VALOR_MAXIMO,")"]})}),w===9&&F.jsx(Tt,{campo:R,search:a,onChange:o=>t(o)}),w===0&&F.jsx(Xt,{campo:R,search:a,onChange:o=>t(o)}),w===1&&F.jsx(qt,{campo:R,search:a,onChange:o=>t(o)}),w===2&&F.jsx(Mt,{campo:R,search:a,onChange:o=>t(o)}),w===3&&F.jsx(Wt,{campo:R,search:a,onChange:o=>t(o)}),w===4&&F.jsx(Dt,{campo:R,search:a,onChange:o=>t(o)}),w===5&&F.jsx(Pt,{campo:R,search:a,onChange:o=>t(o)}),w===6&&F.jsx(Ft,{campo:R,search:a,onChange:o=>t(o)}),w===7&&F.jsx(Qt,{campo:R,search:a,onChange:o=>t(o)}),(w===8||w===10)&&F.jsx(Nt,{campo:R,search:a,onChange:o=>t(o)}),(w===11||w===13)&&a.CAMPOS.map(o=>F.jsx(jt,{campo:o,search:a,onChange:(h,m)=>l(h,m)},o.GAC_ID)),w===12&&F.jsx(Ut,{campo:R,search:a,onChange:o=>t(o)})]})});export{cn as F};
